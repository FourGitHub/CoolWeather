[33mcommit 2f69419826eb800d1dfdce858d74d63101ce04be[m[33m ([m[1;36mHEAD -> [m[1;32mmaster[m[33m)[m
Author: Four <2504612405@qq.com>
Date:   Wed Mar 7 20:33:47 2018 +0800

    First Commit

[1mdiff --git a/.gitignore b/.gitignore[m
[1mnew file mode 100644[m
[1mindex 0000000..39fb081[m
[1m--- /dev/null[m
[1m+++ b/.gitignore[m
[36m@@ -0,0 +1,9 @@[m
[32m+[m[32m*.iml[m
[32m+[m[32m.gradle[m
[32m+[m[32m/local.properties[m
[32m+[m[32m/.idea/workspace.xml[m
[32m+[m[32m/.idea/libraries[m
[32m+[m[32m.DS_Store[m
[32m+[m[32m/build[m
[32m+[m[32m/captures[m
[32m+[m[32m.externalNativeBuild[m
[1mdiff --git a/.idea/gradle.xml b/.idea/gradle.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..7ac24c7[m
[1m--- /dev/null[m
[1m+++ b/.idea/gradle.xml[m
[36m@@ -0,0 +1,18 @@[m
[32m+[m[32m<?xml version="1.0" encoding="UTF-8"?>[m
[32m+[m[32m<project version="4">[m
[32m+[m[32m  <component name="GradleSettings">[m
[32m+[m[32m    <option name="linkedExternalProjectsSettings">[m
[32m+[m[32m      <GradleProjectSettings>[m
[32m+[m[32m        <option name="distributionType" value="DEFAULT_WRAPPED" />[m
[32m+[m[32m        <option name="externalProjectPath" value="$PROJECT_DIR$" />[m
[32m+[m[32m        <option name="modules">[m
[32m+[m[32m          <set>[m
[32m+[m[32m            <option value="$PROJECT_DIR$" />[m
[32m+[m[32m            <option value="$PROJECT_DIR$/app" />[m
[32m+[m[32m          </set>[m
[32m+[m[32m        </option>[m
[32m+[m[32m        <option name="resolveModulePerSourceSet" value="false" />[m
[32m+[m[32m      </GradleProjectSettings>[m
[32m+[m[32m    </option>[m
[32m+[m[32m  </component>[m
[32m+[m[32m</project>[m
\ No newline at end of file[m
[1mdiff --git a/.idea/misc.xml b/.idea/misc.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..f342a0b[m
[1m--- /dev/null[m
[1m+++ b/.idea/misc.xml[m
[36m@@ -0,0 +1,33 @@[m
[32m+[m[32m<?xml version="1.0" encoding="UTF-8"?>[m
[32m+[m[32m<project version="4">[m
[32m+[m[32m  <component name="NullableNotNullManager">[m
[32m+[m[32m    <option name="myDefaultNullable" value="android.support.annotation.Nullable" />[m
[32m+[m[32m    <option name="myDefaultNotNull" value="android.support.annotation.NonNull" />[m
[32m+[m[32m    <option name="myNullables">[m
[32m+[m[32m      <value>[m
[32m+[m[32m        <list size="4">[m
[32m+[m[32m          <item index="0" class="java.lang.String" itemvalue="org.jetbrains.annotations.Nullable" />[m
[32m+[m[32m          <item index="1" class="java.lang.String" itemvalue="javax.annotation.Nullable" />[m
[32m+[m[32m          <item index="2" class="java.lang.String" itemvalue="edu.umd.cs.findbugs.annotations.Nullable" />[m
[32m+[m[32m          <item index="3" class="java.lang.String" itemvalue="android.support.annotation.Nullable" />[m
[32m+[m[32m        </list>[m
[32m+[m[32m      </value>[m
[32m+[m[32m    </option>[m
[32m+[m[32m    <option name="myNotNulls">[m
[32m+[m[32m      <value>[m
[32m+[m[32m        <list size="4">[m
[32m+[m[32m          <item index="0" class="java.lang.String" itemvalue="org.jetbrains.annotations.NotNull" />[m
[32m+[m[32m          <item index="1" class="java.lang.String" itemvalue="javax.annotation.Nonnull" />[m
[32m+[m[32m          <item index="2" class="java.lang.String" itemvalue="edu.umd.cs.findbugs.annotations.NonNull" />[m
[32m+[m[32m          <item index="3" class="java.lang.String" itemvalue="android.support.annotation.NonNull" />[m
[32m+[m[32m        </list>[m
[32m+[m[32m      </value>[m
[32m+[m[32m    </option>[m
[32m+[m[32m  </component>[m
[32m+[m[32m  <component name="ProjectRootManager" version="2" languageLevel="JDK_1_7" project-jdk-name="JDK" project-jdk-type="JavaSDK">[m
[32m+[m[32m    <output url="file://$PROJECT_DIR$/build/classes" />[m
[32m+[m[32m  </component>[m
[32m+[m[32m  <component name="ProjectType">[m
[32m+[m[32m    <option name="id" value="Android" />[m
[32m+[m[32m  </component>[m
[32m+[m[32m</project>[m
\ No newline at end of file[m
[1mdiff --git a/.idea/modules.xml b/.idea/modules.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..1761c33[m
[1m--- /dev/null[m
[1m+++ b/.idea/modules.xml[m
[36m@@ -0,0 +1,9 @@[m
[32m+[m[32m<?xml version="1.0" encoding="UTF-8"?>[m
[32m+[m[32m<project version="4">[m
[32m+[m[32m  <component name="ProjectModuleManager">[m
[32m+[m[32m    <modules>[m
[32m+[m[32m      <module fileurl="file://$PROJECT_DIR$/CoolWeather.iml" filepath="$PROJECT_DIR$/CoolWeather.iml" />[m
[32m+[m[32m      <module fileurl="file://$PROJECT_DIR$/app/app.iml" filepath="$PROJECT_DIR$/app/app.iml" />[m
[32m+[m[32m    </modules>[m
[32m+[m[32m  </component>[m
[32m+[m[32m</project>[m
\ No newline at end of file[m
[1mdiff --git a/.idea/runConfigurations.xml b/.idea/runConfigurations.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..7f68460[m
[1m--- /dev/null[m
[1m+++ b/.idea/runConfigurations.xml[m
[36m@@ -0,0 +1,12 @@[m
[32m+[m[32m<?xml version="1.0" encoding="UTF-8"?>[m
[32m+[m[32m<project version="4">[m
[32m+[m[32m  <component name="RunConfigurationProducerService">[m
[32m+[m[32m    <option name="ignoredProducers">[m
[32m+[m[32m      <set>[m
[32m+[m[32m        <option value="org.jetbrains.plugins.gradle.execution.test.runner.AllInPackageGradleConfigurationProducer" />[m
[32m+[m[32m        <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestClassGradleConfigurationProducer" />[m
[32m+[m[32m        <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestMethodGradleConfigurationProducer" />[m
[32m+[m[32m      </set>[m
[32m+[m[32m    </option>[m
[32m+[m[32m  </component>[m
[32m+[m[32m</project>[m
\ No newline at end of file[m
[1mdiff --git a/app/.gitignore b/app/.gitignore[m
[1mnew file mode 100644[m
[1mindex 0000000..796b96d[m
[1m--- /dev/null[m
[1m+++ b/app/.gitignore[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32m/build[m
[1mdiff --git a/app/build.gradle b/app/build.gradle[m
[1mnew file mode 100644[m
[1mindex 0000000..a1f9a20[m
[1m--- /dev/null[m
[1m+++ b/app/build.gradle[m
[36m@@ -0,0 +1,33 @@[m
[32m+[m[32mapply plugin: 'com.android.application'[m
[32m+[m
[32m+[m[32mandroid {[m
[32m+[m[32m    compileSdkVersion 26[m
[32m+[m[32m    defaultConfig {[m
[32m+[m[32m        applicationId "com.example.four.coolweather"[m
[32m+[m[32m        minSdkVersion 15[m
[32m+[m[32m        targetSdkVersion 26[m
[32m+[m[32m        versionCode 1[m
[32m+[m[32m        versionName "1.0"[m
[32m+[m[32m        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"[m
[32m+[m[32m    }[m
[32m+[m[32m    buildTypes {[m
[32m+[m[32m        release {[m
[32m+[m[32m            minifyEnabled false[m
[32m+[m[32m            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mdependencies {[m
[32m+[m[32m    implementation fileTree(include: ['*.jar'], dir: 'libs')[m
[32m+[m[32m    implementation 'com.android.support:appcompat-v7:26.1.0'[m
[32m+[m[32m    implementation 'com.android.support.constraint:constraint-layout:1.0.2'[m
[32m+[m[32m    testImplementation 'junit:junit:4.12'[m
[32m+[m[32m    androidTestImplementation 'com.android.support.test:runner:1.0.1'[m
[32m+[m[32m    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'[m
[32m+[m[32m    implementation 'com.github.bumptech.glide:glide:3.7.0'[m
[32m+[m[32m    implementation 'org.litepal.android:core:1.3.2'[m
[32m+[m[32m    implementation 'com.squareup.okhttp3:okhttp:3.4.1'[m
[32m+[m[32m    implementation 'com.google.code.gson:gson:2.7'[m
[32m+[m[32m    implementation 'com.android.support:cardview-v7:27.1.0'[m
[32m+[m[32m}[m
[1mdiff --git a/app/libs/BASE64Encoder.jar b/app/libs/BASE64Encoder.jar[m
[1mnew file mode 100644[m
[1mindex 0000000..3500f7b[m
Binary files /dev/null and b/app/libs/BASE64Encoder.jar differ
[1mdiff --git a/app/proguard-rules.pro b/app/proguard-rules.pro[m
[1mnew file mode 100644[m
[1mindex 0000000..f1b4245[m
[1m--- /dev/null[m
[1m+++ b/app/proguard-rules.pro[m
[36m@@ -0,0 +1,21 @@[m
[32m+[m[32m# Add project specific ProGuard rules here.[m
[32m+[m[32m# You can control the set of applied configuration files using the[m
[32m+[m[32m# proguardFiles setting in build.gradle.[m
[32m+[m[32m#[m
[32m+[m[32m# For more details, see[m
[32m+[m[32m#   http://developer.android.com/guide/developing/tools/proguard.html[m
[32m+[m
[32m+[m[32m# If your project uses WebView with JS, uncomment the following[m
[32m+[m[32m# and specify the fully qualified class name to the JavaScript interface[m
[32m+[m[32m# class:[m
[32m+[m[32m#-keepclassmembers class fqcn.of.javascript.interface.for.webview {[m
[32m+[m[32m#   public *;[m
[32m+[m[32m#}[m
[32m+[m
[32m+[m[32m# Uncomment this to preserve the line number information for[m
[32m+[m[32m# debugging stack traces.[m
[32m+[m[32m#-keepattributes SourceFile,LineNumberTable[m
[32m+[m
[32m+[m[32m# If you keep the line number information, uncomment this to[m
[32m+[m[32m# hide the original source file name.[m
[32m+[m[32m#-renamesourcefileattribute SourceFile[m
[1mdiff --git "a/app/release/Four\345\244\251\346\260\224.apk" "b/app/release/Four\345\244\251\346\260\224.apk"[m
[1mnew file mode 100644[m
[1mindex 0000000..f6ad21f[m
Binary files /dev/null and "b/app/release/Four\345\244\251\346\260\224.apk" differ
[1mdiff --git a/app/release/output.json b/app/release/output.json[m
[1mnew file mode 100644[m
[1mindex 0000000..cf69168[m
[1m--- /dev/null[m
[1m+++ b/app/release/output.json[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32m[{"outputType":{"type":"APK"},"apkInfo":{"type":"MAIN","splits":[],"versionCode":1},"path":"app-release.apk","properties":{"packageId":"com.example.four.coolweather","split":"","minSdkVersion":"15"}}][m
\ No newline at end of file[m
[1mdiff --git a/app/src/androidTest/java/com/coolweather/android/ApplicationTest.java b/app/src/androidTest/java/com/coolweather/android/ApplicationTest.java[m
[1mnew file mode 100644[m
[1mindex 0000000..d03e302[m
[1m--- /dev/null[m
[1m+++ b/app/src/androidTest/java/com/coolweather/android/ApplicationTest.java[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32mpackage com.coolweather.android;[m
[32m+[m
[32m+[m[32mimport android.app.Application;[m
[32m+[m[32mimport android.test.ApplicationTestCase;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * <a href="http://d.android.com/tools/testing/testing_android.html">Testing Fundamentals</a>[m
[32m+[m[32m */[m
[32m+[m[32mpublic class ApplicationTest extends ApplicationTestCase<Application> {[m
[32m+[m[32m    public ApplicationTest() {[m
[32m+[m[32m        super(Application.class);[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..eb6fa39[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/AndroidManifest.xml[m
[36m@@ -0,0 +1,32 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<manifest xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m          package="com.coolweather.android">[m
[32m+[m
[32m+[m[32m    <uses-permission android:name="android.permission.INTERNET"/>[m
[32m+[m
[32m+[m[32m    <application[m
[32m+[m[32m        android:name="org.litepal.LitePalApplication"[m
[32m+[m[32m        android:allowBackup="true"[m
[32m+[m[32m        android:icon="@mipmap/icon_logo"[m
[32m+[m[32m        android:label="@string/app_name"[m
[32m+[m[32m        android:supportsRtl="true"[m
[32m+[m[32m        android:theme="@style/AppTheme">[m
[32m+[m[32m        <activity android:name=".MainActivity">[m
[32m+[m[32m            <intent-filter>[m
[32m+[m[32m                <action android:name="android.intent.action.MAIN"/>[m
[32m+[m
[32m+[m[32m                <category android:name="android.intent.category.LAUNCHER"/>[m
[32m+[m[32m            </intent-filter>[m
[32m+[m[32m        </activity>[m
[32m+[m[32m        <activity android:name=".WeatherActivity"/>[m
[32m+[m
[32m+[m[32m        <service[m
[32m+[m[32m            android:name=".service.AutoUpdateService"[m
[32m+[m[32m            android:enabled="true"[m
[32m+[m[32m            android:exported="true"/>[m
[32m+[m
[32m+[m[32m        <activity android:name=".ShowLifestyleActivity">[m
[32m+[m[32m        </activity>[m
[32m+[m[32m    </application>[m
[32m+[m
[32m+[m[32m</manifest>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/assets/litepal.xml b/app/src/main/assets/litepal.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..b4806e0[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/assets/litepal.xml[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<litepal>[m
[32m+[m
[32m+[m[32m    <dbname value="cool_weather" />[m
[32m+[m
[32m+[m[32m    <version value="1" />[m
[32m+[m
[32m+[m[32m    <list>[m
[32m+[m[32m        <mapping class="com.coolweather.android.db.Province" />[m
[32m+[m[32m        <mapping class="com.coolweather.android.db.City" />[m
[32m+[m[32m        <mapping class="com.coolweather.android.db.County" />[m
[32m+[m[32m    </list>[m
[32m+[m
[32m+[m[32m</litepal>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/java/com/coolweather/android/ChooseAreaFragment.java b/app/src/main/java/com/coolweather/android/ChooseAreaFragment.java[m
[1mnew file mode 100644[m
[1mindex 0000000..3c7c2c9[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/coolweather/android/ChooseAreaFragment.java[m
[36m@@ -0,0 +1,271 @@[m
[32m+[m[32mpackage com.coolweather.android;[m
[32m+[m
[32m+[m[32mimport android.app.ProgressDialog;[m
[32m+[m[32mimport android.content.Intent;[m
[32m+[m[32mimport android.os.Bundle;[m
[32m+[m[32mimport android.support.v4.app.Fragment;[m
[32m+[m[32mimport android.view.LayoutInflater;[m
[32m+[m[32mimport android.view.View;[m
[32m+[m[32mimport android.view.ViewGroup;[m
[32m+[m[32mimport android.widget.AdapterView;[m
[32m+[m[32mimport android.widget.ArrayAdapter;[m
[32m+[m[32mimport android.widget.Button;[m
[32m+[m[32mimport android.widget.ListView;[m
[32m+[m[32mimport android.widget.TextView;[m
[32m+[m[32mimport android.widget.Toast;[m
[32m+[m
[32m+[m[32mimport com.coolweather.android.db.City;[m
[32m+[m[32mimport com.coolweather.android.db.County;[m
[32m+[m[32mimport com.coolweather.android.db.Province;[m
[32m+[m[32mimport com.coolweather.android.utils.HttpCallbackListener;[m
[32m+[m[32mimport com.coolweather.android.utils.HttpUtil;[m
[32m+[m[32mimport com.coolweather.android.utils.PCCUtil;[m
[32m+[m[32mimport com.coolweather.android.utils.ToastUtil;[m
[32m+[m
[32m+[m[32mimport org.litepal.crud.DataSupport;[m
[32m+[m
[32m+[m[32mimport java.util.ArrayList;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m
[32m+[m[32mpublic class ChooseAreaFragment extends Fragment {[m
[32m+[m
[32m+[m[32m    private static final String TAG = "ChooseAreaFragment";[m
[32m+[m
[32m+[m[32m    public static final int LEVEL_PROVINCE = 0;[m
[32m+[m
[32m+[m[32m    public static final int LEVEL_CITY = 1;[m
[32m+[m
[32m+[m[32m    public static final int LEVEL_COUNTY = 2;[m
[32m+[m
[32m+[m[32m    private ProgressDialog progressDialog;[m
[32m+[m
[32m+[m[32m    private TextView titleText;[m
[32m+[m
[32m+[m[32m    private Button backButton;[m
[32m+[m
[32m+[m[32m    private ListView listView;[m
[32m+[m
[32m+[m[32m    private ArrayAdapter<String> adapter;[m
[32m+[m
[32m+[m[32m    private List<String> dataList = new ArrayList<>(); // 这里记得为他分配空间，不仅仅是声明！！！[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 省列表[m
[32m+[m[32m     */[m
[32m+[m[32m    private List<Province> provinceList;[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 市列表[m
[32m+[m[32m     */[m
[32m+[m[32m    private List<City> cityList;[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 县列表[m
[32m+[m[32m     */[m
[32m+[m[32m    private List<County> countyList;[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 选中的省份[m
[32m+[m[32m     */[m
[32m+[m[32m    private Province selectedProvince;[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 选中的城市[m
[32m+[m[32m     */[m
[32m+[m[32m    private City selectedCity;[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 当前选中的级别[m
[32m+[m[32m     */[m
[32m+[m[32m    private int currentLevel;[m
[32m+[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    public View onCreateView(LayoutInflater inflater, ViewGroup container,[m
[32m+[m[32m                             Bundle savedInstanceState) {[m
[32m+[m[32m        View view = inflater.inflate(R.layout.choose_area, container, false);[m
[32m+[m[32m        titleText = (TextView) view.findViewById(R.id.title_text);[m
[32m+[m[32m        backButton = (Button) view.findViewById(R.id.back_button);[m
[32m+[m[32m        listView = (ListView) view.findViewById(R.id.list_view);[m
[32m+[m[32m        adapter = new ArrayAdapter<>(getContext(), android.R.layout.simple_list_item_1, dataList);[m
[32m+[m[32m        listView.setAdapter(adapter);[m
[32m+[m[32m        return view;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    public void onActivityCreated(Bundle savedInstanceState) {[m
[32m+[m[32m        super.onActivityCreated(savedInstanceState);[m
[32m+[m[32m        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {[m
[32m+[m[32m                if (currentLevel == LEVEL_PROVINCE) {[m
[32m+[m[32m                    selectedProvince = provinceList.get(position);[m
[32m+[m[32m                    queryCities();[m
[32m+[m[32m                } else if (currentLevel == LEVEL_CITY) {[m
[32m+[m[32m                    selectedCity = cityList.get(position);[m
[32m+[m[32m                    queryCounties();[m
[32m+[m[32m                } else if (currentLevel == LEVEL_COUNTY) {[m
[32m+[m[32m                    String weatherId = countyList.get(position).getWeatherId();[m
[32m+[m[32m                    if (getActivity() instanceof MainActivity) {[m
[32m+[m[32m                        Intent intent = new Intent(getActivity(), WeatherActivity.class);[m
[32m+[m[32m                        intent.putExtra("weather_id", weatherId);[m
[32m+[m[32m                        startActivity(intent);[m
[32m+[m[32m                        getActivity().finish();[m
[32m+[m[32m                    } else if (getActivity() instanceof WeatherActivity) {[m
[32m+[m[32m                        WeatherActivity activity = (WeatherActivity) getActivity();[m
[32m+[m[32m                        activity.drawerLayout.closeDrawers();[m
[32m+[m[32m                        activity.swipeRefresh.setRefreshing(true);[m
[32m+[m[32m                        activity.requestWeather(weatherId);[m
[32m+[m[32m                    }[m
[32m+[m[32m                }[m
[32m+[m[32m            }[m
[32m+[m[32m        });[m
[32m+[m[32m        backButton.setOnClickListener(new View.OnClickListener() {[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onClick(View v) {[m
[32m+[m[32m                if (currentLevel == LEVEL_COUNTY) {[m
[32m+[m[32m                    queryCities();[m
[32m+[m[32m                } else if (currentLevel == LEVEL_CITY) {[m
[32m+[m[32m                    queryProvinces();[m
[32m+[m[32m                }[m
[32m+[m[32m            }[m
[32m+[m[32m        });[m
[32m+[m[32m        queryProvinces();[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 查询全国所有的省，优先从数据库查询，如果没有查询到再去服务器上查询。[m
[32m+[m[32m     */[m
[32m+[m[32m    private void queryProvinces() {[m
[32m+[m[32m        titleText.setText("中国");[m
[32m+[m[32m        backButton.setVisibility(View.GONE);[m
[32m+[m[32m        provinceList = DataSupport.findAll(Province.class);[m
[32m+[m[32m        if (provinceList.size() > 0) {[m
[32m+[m[32m            dataList.clear();[m
[32m+[m[32m            for (Province province : provinceList) {[m
[32m+[m[32m                dataList.add(province.getProvinceName());[m
[32m+[m[32m            }[m
[32m+[m[32m            adapter.notifyDataSetChanged();[m
[32m+[m[32m            listView.setSelection(0);[m
[32m+[m[32m            currentLevel = LEVEL_PROVINCE;[m
[32m+[m[32m        } else {[m
[32m+[m[32m            String address = "http://guolin.tech/api/china";[m
[32m+[m[32m            queryFromServer(address, "province");[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 查询选中省内所有的市，优先从数据库查询，如果没有查询到再去服务器上查询。[m
[32m+[m[32m     */[m
[32m+[m[32m    private void queryCities() {[m
[32m+[m[32m        titleText.setText(selectedProvince.getProvinceName());[m
[32m+[m[32m        backButton.setVisibility(View.VISIBLE);[m
[32m+[m[32m        cityList = DataSupport.where("provinceid = ?", String.valueOf(selectedProvince.getId())).find(City.class);[m
[32m+[m[32m        if (cityList.size() > 0) {[m
[32m+[m[32m            dataList.clear();[m
[32m+[m[32m            for (City city : cityList) {[m
[32m+[m[32m                dataList.add(city.getCityName());[m
[32m+[m[32m            }[m
[32m+[m[32m            adapter.notifyDataSetChanged();[m
[32m+[m[32m            listView.setSelection(0);[m
[32m+[m[32m            currentLevel = LEVEL_CITY;[m
[32m+[m[32m        } else {[m
[32m+[m[32m            int provinceCode = selectedProvince.getProvinceCode();[m
[32m+[m[32m            String address = "http://guolin.tech/api/china/" + provinceCode;[m
[32m+[m[32m            queryFromServer(address, "city");[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 查询选中市内所有的县，优先从数据库查询，如果没有查询到再去服务器上查询。[m
[32m+[m[32m     */[m
[32m+[m[32m    private void queryCounties() {[m
[32m+[m[32m        titleText.setText(selectedCity.getCityName());[m
[32m+[m[32m        backButton.setVisibility(View.VISIBLE);[m
[32m+[m[32m        countyList = DataSupport.where("cityid = ?", String.valueOf(selectedCity.getId())).find(County.class);[m
[32m+[m[32m        if (countyList.size() > 0) {[m
[32m+[m[32m            dataList.clear();[m
[32m+[m[32m            for (County county : countyList) {[m
[32m+[m[32m                dataList.add(county.getCountyName());[m
[32m+[m[32m            }[m
[32m+[m[32m            adapter.notifyDataSetChanged();[m
[32m+[m[32m            listView.setSelection(0);[m
[32m+[m[32m            currentLevel = LEVEL_COUNTY;[m
[32m+[m[32m        } else {[m
[32m+[m[32m            int provinceCode = selectedProvince.getProvinceCode();[m
[32m+[m[32m            int cityCode = selectedCity.getCityCode();[m
[32m+[m[32m            String address = "http://guolin.tech/api/china/" + provinceCode + "/" + cityCode;[m
[32m+[m[32m            queryFromServer(address, "county");[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 根据传入的地址和类型从服务器上查询省市县数据。[m
[32m+[m[32m     */[m
[32m+[m[32m    private void queryFromServer(String address, final String type) {[m
[32m+[m[32m        showProgressDialog();[m
[32m+[m[32m        HttpUtil.sendHttpUrlConnectionResquest(address, new HttpCallbackListener() {[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onFailure(Exception e) {[m
[32m+[m[32m                // 通过runOnUiThread()方法回到主线程处理逻辑[m
[32m+[m[32m                getActivity().runOnUiThread(new Runnable() {[m
[32m+[m[32m                    @Override[m
[32m+[m[32m                    public void run() {[m
[32m+[m[32m                        closeProgressDialog();[m
[32m+[m[32m                        ToastUtil.showToast(getContext(), "加载失败 Ծ‸Ծ", Toast.LENGTH_SHORT);[m
[32m+[m[32m                    }[m
[32m+[m[32m                });[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onResponse(final String response) {[m
[32m+[m[32m                boolean result = false;[m
[32m+[m[32m                if ("province".equals(type)) {[m
[32m+[m[32m                    result = PCCUtil.handleProvinceResponse(response);[m
[32m+[m[32m                } else if ("city".equals(type)) {[m
[32m+[m[32m                    result = PCCUtil.handleCityResponse(response, selectedProvince.getId());[m
[32m+[m[32m                } else if ("county".equals(type)) {[m
[32m+[m[32m                    result = PCCUtil.handleCountyResponse(response, selectedCity.getId());[m
[32m+[m[32m                }[m
[32m+[m[32m                if (result) {[m
[32m+[m[32m                    getActivity().runOnUiThread(new Runnable() {[m
[32m+[m[32m                        @Override[m
[32m+[m[32m                        public void run() {[m
[32m+[m[32m                            closeProgressDialog();[m
[32m+[m[32m                            if ("province".equals(type)) {[m
[32m+[m[32m                                queryProvinces();[m
[32m+[m[32m                            } else if ("city".equals(type)) {[m
[32m+[m[32m                                queryCities();[m
[32m+[m[32m                            } else if ("county".equals(type)) {[m
[32m+[m[32m                                queryCounties();[m
[32m+[m[32m                            }[m
[32m+[m[32m                        }[m
[32m+[m[32m                    });[m
[32m+[m[32m                }[m
[32m+[m[32m            }[m
[32m+[m[32m        });[m
[32m+[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 显示进度对话框[m
[32m+[m[32m     */[m
[32m+[m[32m    private void showProgressDialog() {[m
[32m+[m[32m        if (progressDialog == null) {[m
[32m+[m[32m            progressDialog = new ProgressDialog(getActivity());[m
[32m+[m[32m            progressDialog.setMessage("正在加载...");[m
[32m+[m[32m            progressDialog.setCanceledOnTouchOutside(false);[m
[32m+[m[32m        }[m
[32m+[m[32m        progressDialog.show();[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 关闭进度对话框[m
[32m+[m[32m     */[m
[32m+[m[32m    private void closeProgressDialog() {[m
[32m+[m[32m        if (progressDialog != null) {[m
[32m+[m[32m            progressDialog.dismiss();[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/com/coolweather/android/MainActivity.java b/app/src/main/java/com/coolweather/android/MainActivity.java[m
[1mnew file mode 100644[m
[1mindex 0000000..adbf574[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/coolweather/android/MainActivity.java[m
[36m@@ -0,0 +1,24 @@[m
[32m+[m[32mpackage com.coolweather.android;[m
[32m+[m
[32m+[m[32mimport android.content.Intent;[m
[32m+[m[32mimport android.content.SharedPreferences;[m
[32m+[m[32mimport android.preference.PreferenceManager;[m
[32m+[m[32mimport android.support.v7.app.ActionBar;[m
[32m+[m[32mimport android.support.v7.app.AppCompatActivity;[m
[32m+[m[32mimport android.os.Bundle;[m
[32m+[m
[32m+[m[32mpublic class MainActivity extends AppCompatActivity {[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    protected void onCreate(Bundle savedInstanceState) {[m
[32m+[m[32m        super.onCreate(savedInstanceState);[m
[32m+[m[32m        setContentView(R.layout.activity_main);[m
[32m+[m[32m        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);[m
[32m+[m[32m        if (prefs.getString("weather", null) != null) {[m
[32m+[m[32m            Intent intent = new Intent(this, WeatherActivity.class);[m
[32m+[m[32m            startActivity(intent);[m
[32m+[m[32m            finish();[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/java/com/coolweather/android/ShowLifestyleActivity.java b/app/src/main/java/com/coolweather/android/ShowLifestyleActivity.java[m
[1mnew file mode 100644[m
[1mindex 0000000..451b7d0[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/coolweather/android/ShowLifestyleActivity.java[m
[36m@@ -0,0 +1,22 @@[m
[32m+[m[32mpackage com.coolweather.android;[m
[32m+[m
[32m+[m[32mimport android.support.v7.app.AppCompatActivity;[m
[32m+[m[32mimport android.os.Bundle;[m
[32m+[m[32mimport android.widget.EditText;[m
[32m+[m
[32m+[m[32mpublic class ShowLifestyleActivity extends AppCompatActivity {[m
[32m+[m
[32m+[m[32m    private EditText responseText;[m
[32m+[m[32m    @Override[m
[32m+[m[32m    protected void onCreate(Bundle savedInstanceState) {[m
[32m+[m[32m        super.onCreate(savedInstanceState);[m
[32m+[m[32m        setContentView(R.layout.activity_show_lifestyle);[m
[32m+[m[32m        responseText = (EditText)findViewById(R.id.response_text);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    protected void onResume() {[m
[32m+[m[32m        super.onResume();[m
[32m+[m[32m        responseText.setText(getIntent().getStringExtra("response_text"));[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/com/coolweather/android/WeatherActivity.java b/app/src/main/java/com/coolweather/android/WeatherActivity.java[m
[1mnew file mode 100644[m
[1mindex 0000000..0804afe[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/coolweather/android/WeatherActivity.java[m
[36m@@ -0,0 +1,373 @@[m
[32m+[m[32mpackage com.coolweather.android;[m
[32m+[m
[32m+[m[32mimport android.content.Intent;[m
[32m+[m[32mimport android.content.SharedPreferences;[m
[32m+[m[32mimport android.graphics.Color;[m
[32m+[m[32mimport android.os.Build;[m
[32m+[m[32mimport android.os.Bundle;[m
[32m+[m[32mimport android.preference.PreferenceManager;[m
[32m+[m[32mimport android.support.v4.view.GravityCompat;[m
[32m+[m[32mimport android.support.v4.widget.DrawerLayout;[m
[32m+[m[32mimport android.support.v4.widget.SwipeRefreshLayout;[m
[32m+[m[32mimport android.support.v7.app.AppCompatActivity;[m
[32m+[m[32mimport android.view.LayoutInflater;[m
[32m+[m[32mimport android.view.View;[m
[32m+[m[32mimport android.widget.Button;[m
[32m+[m[32mimport android.widget.ImageView;[m
[32m+[m[32mimport android.widget.LinearLayout;[m
[32m+[m[32mimport android.widget.ScrollView;[m
[32m+[m[32mimport android.widget.TextView;[m
[32m+[m[32mimport android.widget.Toast;[m
[32m+[m
[32m+[m[32mimport com.bumptech.glide.Glide;[m
[32m+[m[32mimport com.coolweather.android.gson.MyWeatherBean;[m
[32m+[m[32mimport com.coolweather.android.service.AutoUpdateService;[m
[32m+[m[32mimport com.coolweather.android.sunriseView.SunriseView;[m
[32m+[m[32mimport com.coolweather.android.utils.HttpCallbackListener;[m
[32m+[m[32mimport com.coolweather.android.utils.HttpUtil;[m
[32m+[m[32mimport com.coolweather.android.utils.PCCUtil;[m
[32m+[m[32mimport com.coolweather.android.utils.SignatureUtil;[m
[32m+[m[32mimport com.coolweather.android.utils.ToastUtil;[m
[32m+[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.util.ArrayList;[m
[32m+[m[32mimport java.util.Calendar;[m
[32m+[m[32mimport java.util.HashMap;[m
[32m+[m
[32m+[m[32mpublic class WeatherActivity extends AppCompatActivity {[m
[32m+[m[32m    private static final String TAG = "WeatherActivity";[m
[32m+[m
[32m+[m[32m    private String sunrise;[m
[32m+[m[32m    private String sunset;[m
[32m+[m[32m    private String moonrise;[m
[32m+[m[32m    private String moonset;[m
[32m+[m[32m    private SunriseView mSunriseView;[m
[32m+[m[32m    private TextView sunriseText;[m
[32m+[m[32m    private TextView sunsetText;[m
[32m+[m
[32m+[m[32m    public DrawerLayout drawerLayout;[m
[32m+[m
[32m+[m[32m    public SwipeRefreshLayout swipeRefresh;[m
[32m+[m
[32m+[m[32m    private ScrollView weatherLayout;[m
[32m+[m
[32m+[m[32m    private Button navButton;[m
[32m+[m[32m    private TextView titleCity;[m
[32m+[m[32m    private TextView titleUpdateTime;[m
[32m+[m[32m    private TextView degreeText;[m
[32m+[m[32m    private TextView weatherInfoText;[m
[32m+[m
[32m+[m[32m    private LinearLayout forecastLayout;[m
[32m+[m
[32m+[m[32m    private LinearLayout hourlyLayout;[m
[32m+[m
[32m+[m[32m    private TextView windScText;[m
[32m+[m[32m    private TextView windSpdText;[m
[32m+[m[32m    private TextView windDirText;[m
[32m+[m
[32m+[m[32m    private TextView pressText;[m
[32m+[m[32m    private TextView humidityText;[m
[32m+[m
[32m+[m[32m    private TextView clothesText;[m
[32m+[m[32m    private TextView comfortText;[m
[32m+[m[32m    private TextView uvText;[m
[32m+[m[32m    private TextView sportsText;[m
[32m+[m[32m    private TextView carWashText;[m
[32m+[m[32m    private TextView feelTmpText;[m
[32m+[m[32m    private TextView fluText;[m
[32m+[m[32m    private TextView popText;[m
[32m+[m[32m    private TextView airText;[m
[32m+[m[32m    private TextView travelText;[m
[32m+[m
[32m+[m[32m    private ImageView bingPicImg;[m
[32m+[m
[32m+[m[32m    private String mWeatherId;[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    protected void onCreate(Bundle savedInstanceState) {[m
[32m+[m[32m        super.onCreate(savedInstanceState);[m
[32m+[m[32m        if (Build.VERSION.SDK_INT >= 21) {[m
[32m+[m[32m            View decorView = getWindow().getDecorView();[m
[32m+[m[32m            decorView.setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN[m
[32m+[m[32m                    | View.SYSTEM_UI_FLAG_LAYOUT_STABLE);[m
[32m+[m[32m            getWindow().setStatusBarColor(Color.TRANSPARENT);[m
[32m+[m[32m        }[m
[32m+[m[32m        setContentView(R.layout.activity_weather);[m
[32m+[m
[32m+[m[32m        bingPicImg = (ImageView) findViewById(R.id.bing_pic_img);[m
[32m+[m[32m        weatherLayout = (ScrollView) findViewById(R.id.weather_layout);[m
[32m+[m[32m        titleCity = (TextView) findViewById(R.id.title_city);[m
[32m+[m[32m        titleUpdateTime = (TextView) findViewById(R.id.title_update_time);[m
[32m+[m[32m        degreeText = (TextView) findViewById(R.id.degree_text);[m
[32m+[m[32m        weatherInfoText = (TextView) findViewById(R.id.weather_info_text);[m
[32m+[m[32m        forecastLayout = (LinearLayout) findViewById(R.id.forecast_layout);[m
[32m+[m[32m        hourlyLayout = (LinearLayout) findViewById(R.id.hourly_layout);[m
[32m+[m
[32m+[m[32m        clothesText = (TextView) findViewById(R.id.clothes_text);[m
[32m+[m[32m        comfortText = (TextView) findViewById(R.id.comfort_text);[m
[32m+[m[32m        uvText = (TextView) findViewById(R.id.uv_text);[m
[32m+[m[32m        sportsText = (TextView) findViewById(R.id.sports_text);[m
[32m+[m[32m        carWashText = (TextView) findViewById(R.id.car_wash_text);[m
[32m+[m[32m        feelTmpText = (TextView) findViewById(R.id.feel_tmp_text);[m
[32m+[m[32m        popText = (TextView) findViewById(R.id.pop_text);[m
[32m+[m[32m        airText = (TextView) findViewById(R.id.air_text);[m
[32m+[m[32m        travelText = (TextView) findViewById(R.id.travel_text);[m
[32m+[m[32m        fluText = (TextView) findViewById(R.id.flu_text);[m
[32m+[m
[32m+[m[32m        windScText = (TextView) findViewById(R.id.wind_sc_text);[m
[32m+[m[32m        windSpdText = (TextView) findViewById(R.id.wind_spd_text);[m
[32m+[m[32m        windDirText = (TextView) findViewById(R.id.wind_dir_text);[m
[32m+[m
[32m+[m[32m        pressText = (TextView) findViewById(R.id.press_text);[m
[32m+[m[32m        humidityText = (TextView) findViewById(R.id.humidity_text);[m
[32m+[m
[32m+[m[32m        sunriseText = (TextView) findViewById(R.id.sunrise_text);[m
[32m+[m[32m        sunsetText = (TextView) findViewById(R.id.sunset_text);[m
[32m+[m
[32m+[m[32m        swipeRefresh = (SwipeRefreshLayout) findViewById(R.id.swipe_refresh);[m
[32m+[m[32m        swipeRefresh.setColorSchemeResources(R.color.colorPrimary);[m
[32m+[m[32m        drawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);[m
[32m+[m[32m        navButton = (Button) findViewById(R.id.nav_button);[m
[32m+[m
[32m+[m[32m        mSunriseView = (com.coolweather.android.sunriseView.SunriseView) findViewById(R.id.sun);[m
[32m+[m[32m        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);[m
[32m+[m[32m        String weatherString = prefs.getString("weather", null);[m
[32m+[m[32m        if (weatherString != null) {[m
[32m+[m[32m            // 有缓存时直接解析天气数据[m
[32m+[m[32m            MyWeatherBean weather = PCCUtil.handleWeatherResponse(weatherString);[m
[32m+[m[32m            mWeatherId = weather.getBasic().getCid();[m
[32m+[m[32m            showWeatherInfo(weather);[m
[32m+[m[32m        } else {[m
[32m+[m[32m            // 无缓存时去服务器查询天气[m
[32m+[m[32m            mWeatherId = getIntent().getStringExtra("weather_id");[m
[32m+[m[32m            weatherLayout.setVisibility(View.INVISIBLE);[m
[32m+[m[32m            requestWeather(mWeatherId);[m
[32m+[m[32m        }[m
[32m+[m[32m        swipeRefresh.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onRefresh() {[m
[32m+[m[32m                requestWeather(mWeatherId);[m
[32m+[m[32m            }[m
[32m+[m[32m        });[m
[32m+[m[32m        navButton.setOnClickListener(new View.OnClickListener() {[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onClick(View v) {[m
[32m+[m[32m                drawerLayout.openDrawer(GravityCompat.START);[m
[32m+[m[32m            }[m
[32m+[m[32m        });[m
[32m+[m[32m        String bingPic = prefs.getString("bing_pic", null);[m
[32m+[m[32m        if (bingPic != null) {[m
[32m+[m[32m            Glide.with(this).load(bingPic).into(bingPicImg);[m
[32m+[m[32m        } else {[m
[32m+[m[32m            loadBingPic();[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 根据天气id请求城市天气信息。[m
[32m+[m[32m     */[m
[32m+[m[32m    public void requestWeather(final String weatherId) {[m
[32m+[m[32m        HashMap<String,String> params = new HashMap<>();[m
[32m+[m[32m        params.put("location",weatherId);[m
[32m+[m[32m        params.put("lang","zh");[m
[32m+[m[32m        params.put("unit","m");[m
[32m+[m[32m        try {[m
[32m+[m[32m            final String sign = SignatureUtil.getSignature(params,"bc0418b57b2d4918819d3974ac1285d9");[m
[32m+[m[32m        } catch (IOException e) {[m
[32m+[m[32m            e.printStackTrace();[m
[32m+[m[32m        }[m
[32m+[m[32m        String weatherUrl = "https://free-api.heweather.com/s6/weather?" +[m
[32m+[m[32m                "location=" + weatherId + "&" +[m
[32m+[m[32m                "key=bc0418b57b2d4918819d3974ac1285d9" + "&" +[m
[32m+[m[32m                "lang=zh" + "&" +[m
[32m+[m[32m                "unit=m";[m
[32m+[m
[32m+[m[32m        HttpUtil.sendHttpUrlConnectionResquest(weatherUrl, new HttpCallbackListener() {[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onFailure(Exception e) {[m
[32m+[m[32m                e.printStackTrace();[m
[32m+[m[32m                runOnUiThread(new Runnable() {[m
[32m+[m[32m                    @Override[m
[32m+[m[32m                    public void run() {[m
[32m+[m[32m                        ToastUtil.showToast(getApplicationContext(), "获取天气信息失败 Ծ‸Ծ", Toast.LENGTH_SHORT);[m
[32m+[m[32m                        swipeRefresh.setRefreshing(false);[m
[32m+[m[32m                    }[m
[32m+[m[32m                });[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onResponse(final String response) {[m
[32m+[m[32m                //                final String responseText = response.body().string();[m
[32m+[m[32m                //                Log.i(TAG, "哈哈哈onResponse: " + responseText);[m
[32m+[m[32m                //                Intent intent = new Intent(WeatherActivity.this, ShowLifestyleActivity.class);[m
[32m+[m[32m                //                intent.putExtra("response_text", responseText);[m
[32m+[m[32m                //                startActivity(intent);[m
[32m+[m[32m                //                finish();[m
[32m+[m[32m                final MyWeatherBean weather = PCCUtil.handleWeatherResponse(response);[m
[32m+[m[32m                runOnUiThread(new Runnable() {[m
[32m+[m[32m                    @Override[m
[32m+[m[32m                    public void run() {[m
[32m+[m[32m                        if (weather != null && "ok".equals(weather.getStatus())) {[m
[32m+[m[32m                            SharedPreferences.Editor editor = PreferenceManager.getDefaultSharedPreferences(WeatherActivity.this).edit();[m
[32m+[m[32m                            editor.putString("weather", response);[m
[32m+[m[32m                            editor.apply();[m
[32m+[m[32m                            mWeatherId = weather.getBasic().getCid();[m
[32m+[m[32m                            showWeatherInfo(weather);[m
[32m+[m[32m                        } else {[m
[32m+[m[32m                            ToastUtil.showToast(getApplicationContext(), "获取天气信息失败 Ծ‸Ծ", Toast.LENGTH_SHORT);[m
[32m+[m[32m                        }[m
[32m+[m[32m                        swipeRefresh.setRefreshing(false);[m
[32m+[m[32m                    }[m
[32m+[m[32m                });[m
[32m+[m[32m            }[m
[32m+[m[32m        });[m
[32m+[m[32m        loadBingPic();[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 加载必应每日一图,《第一行代码》给的 今日必应 接口[m
[32m+[m[32m     */[m
[32m+[m[32m    private void loadBingPic() {[m
[32m+[m[32m        String requestBingPic = "http://guolin.tech/api/bing_pic";[m
[32m+[m[32m        HttpUtil.sendHttpUrlConnectionResquest(requestBingPic, new HttpCallbackListener() {[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onFailure(Exception e) {[m
[32m+[m[32m                e.printStackTrace();[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onResponse(final String response) {[m
[32m+[m[32m                SharedPreferences.Editor editor = PreferenceManager.getDefaultSharedPreferences(WeatherActivity.this).edit();[m
[32m+[m[32m                editor.putString("bing_pic", response);[m
[32m+[m[32m                editor.apply();[m
[32m+[m[32m                runOnUiThread(new Runnable() {[m
[32m+[m[32m                    @Override[m
[32m+[m[32m                    public void run() {[m
[32m+[m[32m                        Glide.with(WeatherActivity.this).load(response).into(bingPicImg);[m
[32m+[m[32m                    }[m
[32m+[m[32m                });[m
[32m+[m[32m            }[m
[32m+[m[32m        });[m
[32m+[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 处理并展示Weather实体类中的数据。[m
[32m+[m[32m     */[m
[32m+[m[32m    private void showWeatherInfo(MyWeatherBean weather) {[m
[32m+[m
[32m+[m[32m        String cityName = weather.getBasic().getLocation();[m
[32m+[m[32m        String updateTime = weather.getUpdate().getLoc().split(" ")[1];[m
[32m+[m[32m        String degree = weather.getNow().getTmp() + "℃";[m
[32m+[m[32m        String weatherInfo = weather.getNow().getCond_txt();[m
[32m+[m[32m        String windScInfo = "风力  " + weather.getNow().getWind_sc();[m
[32m+[m[32m        String windDirInfo = "风向  " + weather.getNow().getWind_dir();[m
[32m+[m[32m        String windSpdInfo = "风速  " + weather.getNow().getWind_spd() + " km/h";[m
[32m+[m[32m        String humidityInfo = weather.getNow().getHum();[m
[32m+[m[32m        String pressInfo = weather.getNow().getPres() + "hpa";[m
[32m+[m[32m        String feelTmp = "体感温度  " + weather.getNow().getFl() + "℃";[m
[32m+[m
[32m+[m[32m        windDirText.setText(windDirInfo);[m
[32m+[m[32m        windScText.setText(windScInfo);[m
[32m+[m[32m        windSpdText.setText(windSpdInfo);[m
[32m+[m[32m        humidityText.setText(humidityInfo);[m
[32m+[m[32m        pressText.setText(pressInfo);[m
[32m+[m[32m        feelTmpText.setText(feelTmp);[m
[32m+[m[32m        titleCity.setText(cityName);[m
[32m+[m[32m        titleUpdateTime.setText(updateTime);[m
[32m+[m[32m        degreeText.setText(degree);[m
[32m+[m[32m        weatherInfoText.setText(weatherInfo);[m
[32m+[m
[32m+[m[32m        forecastLayout.removeAllViews();[m
[32m+[m[32m        ArrayList<MyWeatherBean.DailyForecastBean> daily_forecast = weather.getDaily_forecast();[m
[32m+[m[32m        for (int i = 0; i < daily_forecast.size(); i++) {[m
[32m+[m[32m            if (i == 0) {[m
[32m+[m[32m                sunrise = daily_forecast.get(i).getSr().replace(':', '.');[m
[32m+[m[32m                sunset = daily_forecast.get(i).getSs().replace(':', '.');[m
[32m+[m[32m                moonrise = daily_forecast.get(i).getMr().replace(':', '.');[m
[32m+[m[32m                moonset = daily_forecast.get(i).getMs().replace(':', '.');[m
[32m+[m
[32m+[m[32m                sunriseText.setText("日出 " + sunrise);[m
[32m+[m[32m                sunsetText.setText("日落 " + sunset);[m
[32m+[m[32m                startSunAnim(Float.valueOf(sunrise), Float.valueOf(sunset));[m
[32m+[m[32m            }[m
[32m+[m[32m            View view = LayoutInflater.from(this).inflate(R.layout.forecast_item, forecastLayout, false);[m
[32m+[m[32m            TextView dateText = (TextView) view.findViewById(R.id.date_text);[m
[32m+[m[32m            TextView infoText = (TextView) view.findViewById(R.id.info_text);[m
[32m+[m[32m            TextView maxText = (TextView) view.findViewById(R.id.max_text);[m
[32m+[m[32m            TextView minText = (TextView) view.findViewById(R.id.min_text);[m
[32m+[m[32m            dateText.setText(daily_forecast.get(i).getDate());[m
[32m+[m[32m            infoText.setText(daily_forecast.get(i).getCond_txt_d());[m
[32m+[m[32m            maxText.setText(daily_forecast.get(i).getTmp_max());[m
[32m+[m[32m            minText.setText(daily_forecast.get(i).getTmp_min());[m
[32m+[m[32m            forecastLayout.addView(view);[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        hourlyLayout.removeAllViews();[m
[32m+[m[32m        popText.setText("降水概率  " + weather.getHourly().get(0).getPop() + "%");[m
[32m+[m[32m        for (MyWeatherBean.HourlyBean hourly : weather.getHourly()) {[m
[32m+[m[32m            View view = LayoutInflater.from(this).inflate(R.layout.hourly_item, hourlyLayout, false);[m
[32m+[m[32m            TextView hourlyTimeText = (TextView) view.findViewById(R.id.hourly_time_text);[m
[32m+[m[32m            ImageView hourlyWeatherIcon = (ImageView) view.findViewById(R.id.hourly_weather_icon);[m
[32m+[m[32m            TextView hourlyWeatherConditionText = (TextView) view.findViewById(R.id.weather_condition_text);[m
[32m+[m[32m            TextView hourlyTmpText = (TextView) view.findViewById(R.id.hourly_tmp_text);[m
[32m+[m[32m            hourlyTimeText.setText(hourly.getTime().split(" ")[1]);[m
[32m+[m[32m            hourlyWeatherIcon.setImageResource(PCCUtil.matchWeatherIocnCode(hourly.getCond_code()));[m
[32m+[m[32m            hourlyWeatherConditionText.setText(hourly.getCond_txt());[m
[32m+[m[32m            hourlyTmpText.setText(hourly.getTmp());[m
[32m+[m[32m            hourlyLayout.addView(view);[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        for (MyWeatherBean.LifestyleBean lifestyle : weather.getLifestyle()) {[m
[32m+[m[32m            switch (lifestyle.getType()) {[m
[32m+[m[32m                case "comf":[m
[32m+[m[32m                    comfortText.setText(lifestyle.getBrf());[m
[32m+[m[32m                    break;[m
[32m+[m[32m                case "drsg":[m
[32m+[m[32m                    clothesText.setText(lifestyle.getBrf());[m
[32m+[m[32m                    break;[m
[32m+[m[32m                case "flu":[m
[32m+[m[32m                    fluText.setText(lifestyle.getBrf());[m
[32m+[m[32m                    break;[m
[32m+[m[32m                case "sport":[m
[32m+[m[32m                    sportsText.setText(lifestyle.getBrf());[m
[32m+[m[32m                    break;[m
[32m+[m[32m                case "trav":[m
[32m+[m[32m                    travelText.setText(lifestyle.getBrf());[m
[32m+[m[32m                    break;[m
[32m+[m[32m                case "uv":[m
[32m+[m[32m                    uvText.setText(lifestyle.getBrf());[m
[32m+[m[32m                    break;[m
[32m+[m[32m                case "cw":[m
[32m+[m[32m                    carWashText.setText(lifestyle.getBrf());[m
[32m+[m[32m                    break;[m
[32m+[m[32m                case "air":[m
[32m+[m[32m                    airText.setText(lifestyle.getBrf());[m
[32m+[m[32m                    break;[m
[32m+[m[32m                default:[m
[32m+[m[32m                    break;[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m[32m        weatherLayout.setVisibility(View.VISIBLE);[m
[32m+[m[32m        Intent intent = new Intent(this, AutoUpdateService.class);[m
[32m+[m[32m        startService(intent);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void startSunAnim(float sunrise, float sunset) {[m
[32m+[m
[32m+[m[32m        Calendar calendarNow = Calendar.getInstance();[m
[32m+[m[32m        int hour = calendarNow.get(Calendar.HOUR_OF_DAY);[m
[32m+[m[32m        int minute = calendarNow.get(Calendar.MINUTE);[m
[32m+[m[32m        float now = Float.valueOf(String.format("%02d.%02d", hour, minute));[m
[32m+[m[32m        if (now < sunrise) {[m
[32m+[m[32m            mSunriseView.sunAnim(0);[m
[32m+[m[32m        } else if (now > sunset) {[m
[32m+[m[32m            mSunriseView.sunAnim(1);[m
[32m+[m[32m        } else {[m
[32m+[m[32m            mSunriseView.sunAnim((now - sunrise) / (sunset - sunrise));[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/com/coolweather/android/db/City.java b/app/src/main/java/com/coolweather/android/db/City.java[m
[1mnew file mode 100644[m
[1mindex 0000000..99155d7[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/coolweather/android/db/City.java[m
[36m@@ -0,0 +1,47 @@[m
[32m+[m[32mpackage com.coolweather.android.db;[m
[32m+[m
[32m+[m[32mimport org.litepal.crud.DataSupport;[m
[32m+[m
[32m+[m[32mpublic class City extends DataSupport {[m
[32m+[m
[32m+[m[32m    private int id;[m
[32m+[m
[32m+[m[32m    private String cityName;[m
[32m+[m
[32m+[m[32m    private int cityCode;[m
[32m+[m
[32m+[m[32m    private int provinceId;[m
[32m+[m
[32m+[m[32m    public int getId() {[m
[32m+[m[32m        return id;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setId(int id) {[m
[32m+[m[32m        this.id = id;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public String getCityName() {[m
[32m+[m[32m        return cityName;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setCityName(String cityName) {[m
[32m+[m[32m        this.cityName = cityName;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public int getCityCode() {[m
[32m+[m[32m        return cityCode;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setCityCode(int cityCode) {[m
[32m+[m[32m        this.cityCode = cityCode;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public int getProvinceId() {[m
[32m+[m[32m        return provinceId;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setProvinceId(int provinceId) {[m
[32m+[m[32m        this.provinceId = provinceId;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/com/coolweather/android/db/County.java b/app/src/main/java/com/coolweather/android/db/County.java[m
[1mnew file mode 100644[m
[1mindex 0000000..284eed2[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/coolweather/android/db/County.java[m
[36m@@ -0,0 +1,47 @@[m
[32m+[m[32mpackage com.coolweather.android.db;[m
[32m+[m
[32m+[m[32mimport org.litepal.crud.DataSupport;[m
[32m+[m
[32m+[m[32mpublic class County extends DataSupport {[m
[32m+[m
[32m+[m[32m    private int id;[m
[32m+[m
[32m+[m[32m    private String countyName;[m
[32m+[m
[32m+[m[32m    private String weatherId;[m
[32m+[m
[32m+[m[32m    private int cityId;[m
[32m+[m
[32m+[m[32m    public int getId() {[m
[32m+[m[32m        return id;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setId(int id) {[m
[32m+[m[32m        this.id = id;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public String getCountyName() {[m
[32m+[m[32m        return countyName;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setCountyName(String countyName) {[m
[32m+[m[32m        this.countyName = countyName;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public String getWeatherId() {[m
[32m+[m[32m        return weatherId;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setWeatherId(String weatherId) {[m
[32m+[m[32m        this.weatherId = weatherId;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public int getCityId() {[m
[32m+[m[32m        return cityId;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setCityId(int cityId) {[m
[32m+[m[32m        this.cityId = cityId;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/com/coolweather/android/db/Province.java b/app/src/main/java/com/coolweather/android/db/Province.java[m
[1mnew file mode 100644[m
[1mindex 0000000..4a5a914[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/coolweather/android/db/Province.java[m
[36m@@ -0,0 +1,36 @@[m
[32m+[m[32mpackage com.coolweather.android.db;[m
[32m+[m
[32m+[m[32mimport org.litepal.crud.DataSupport;[m
[32m+[m
[32m+[m[32mpublic class Province extends DataSupport {[m
[32m+[m
[32m+[m[32m    private int id;[m
[32m+[m
[32m+[m[32m    private String provinceName;[m
[32m+[m
[32m+[m[32m    private int provinceCode;[m
[32m+[m
[32m+[m[32m    public int getId() {[m
[32m+[m[32m        return id;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setId(int id) {[m
[32m+[m[32m        this.id = id;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public String getProvinceName() {[m
[32m+[m[32m        return provinceName;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setProvinceName(String provinceName) {[m
[32m+[m[32m        this.provinceName = provinceName;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public int getProvinceCode() {[m
[32m+[m[32m        return provinceCode;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setProvinceCode(int provinceCode) {[m
[32m+[m[32m        this.provinceCode = provinceCode;[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/com/coolweather/android/gson/MyWeatherBean.java b/app/src/main/java/com/coolweather/android/gson/MyWeatherBean.java[m
[1mnew file mode 100644[m
[1mindex 0000000..a5f669e[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/coolweather/android/gson/MyWeatherBean.java[m
[36m@@ -0,0 +1,492 @@[m
[32m+[m[32mpackage com.coolweather.android.gson;[m
[32m+[m
[32m+[m[32mimport java.util.ArrayList;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by Administrator on 2018/3/2 0002.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mpublic class MyWeatherBean {[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * basic : {}[m
[32m+[m[32m     * update : {}[m
[32m+[m[32m     * status : ok[m
[32m+[m[32m     * now : {}[m
[32m+[m[32m     * daily_forecast : [][m
[32m+[m[32m     * hourly : [][m
[32m+[m[32m     * lifestyle : [][m
[32m+[m[32m     */[m
[32m+[m
[32m+[m[32m    private BasicBean basic;[m
[32m+[m[32m    private UpdateBean update;[m
[32m+[m[32m    private String status;[m
[32m+[m[32m    private NowBean now;[m
[32m+[m[32m    private ArrayList<DailyForecastBean> daily_forecast;[m
[32m+[m[32m    private List<HourlyBean> hourly;[m
[32m+[m[32m    private List<LifestyleBean> lifestyle;[m
[32m+[m
[32m+[m[32m    public BasicBean getBasic() {[m
[32m+[m[32m        return basic;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setBasic(BasicBean basic) {[m
[32m+[m[32m        this.basic = basic;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public UpdateBean getUpdate() {[m
[32m+[m[32m        return update;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setUpdate(UpdateBean update) {[m
[32m+[m[32m        this.update = update;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public String getStatus() {[m
[32m+[m[32m        return status;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setStatus(String status) {[m
[32m+[m[32m        this.status = status;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public NowBean getNow() {[m
[32m+[m[32m        return now;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setNow(NowBean now) {[m
[32m+[m[32m        this.now = now;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public ArrayList<DailyForecastBean> getDaily_forecast() {[m
[32m+[m[32m        return daily_forecast;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setDaily_forecast(ArrayList<DailyForecastBean> daily_forecast) {[m
[32m+[m[32m        this.daily_forecast = daily_forecast;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public List<HourlyBean> getHourly() {[m
[32m+[m[32m        return hourly;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setHourly(List<HourlyBean> hourly) {[m
[32m+[m[32m        this.hourly = hourly;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public List<LifestyleBean> getLifestyle() {[m
[32m+[m[32m        return lifestyle;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void setLifestyle(List<LifestyleBean> lifestyle) {[m
[32m+[m[32m        this.lifestyle = lifestyle;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public static class BasicBean {[m
[32m+[m
[32m+[m[32m        private String cid;[m
[32m+[m[32m        private String location;[m
[32m+[m
[32m+[m[32m        public String getCid() {[m
[32m+[m[32m            return cid;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setCid(String cid) {[m
[32m+[m[32m            this.cid = cid;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getLocation() {[m
[32m+[m[32m            return location;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setLocation(String location) {[m
[32m+[m[32m            this.location = location;[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public static class UpdateBean {[m
[32m+[m
[32m+[m[32m        private String loc;[m
[32m+[m
[32m+[m[32m        public String getLoc() {[m
[32m+[m[32m            return loc;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setLoc(String loc) {[m
[32m+[m[32m            this.loc = loc;[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public static class NowBean {[m
[32m+[m
[32m+[m[32m        private String cond_code;[m
[32m+[m[32m        private String cond_txt;[m
[32m+[m[32m        private String fl;[m
[32m+[m[32m        private String hum;[m
[32m+[m[32m        private String pcpn;[m
[32m+[m[32m        private String pres;[m
[32m+[m[32m        private String tmp;[m
[32m+[m[32m        private String vis;[m
[32m+[m[32m        private String wind_dir;[m
[32m+[m[32m        private String wind_sc;[m
[32m+[m[32m        private String wind_spd;[m
[32m+[m
[32m+[m[32m        public String getCond_code() {[m
[32m+[m[32m            return cond_code;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setCond_code(String cond_code) {[m
[32m+[m[32m            this.cond_code = cond_code;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getCond_txt() {[m
[32m+[m[32m            return cond_txt;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setCond_txt(String cond_txt) {[m
[32m+[m[32m            this.cond_txt = cond_txt;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getFl() {[m
[32m+[m[32m            return fl;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setFl(String fl) {[m
[32m+[m[32m            this.fl = fl;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getHum() {[m
[32m+[m[32m            return hum;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setHum(String hum) {[m
[32m+[m[32m            this.hum = hum;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getPcpn() {[m
[32m+[m[32m            return pcpn;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setPcpn(String pcpn) {[m
[32m+[m[32m            this.pcpn = pcpn;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getPres() {[m
[32m+[m[32m            return pres;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setPres(String pres) {[m
[32m+[m[32m            this.pres = pres;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getTmp() {[m
[32m+[m[32m            return tmp;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setTmp(String tmp) {[m
[32m+[m[32m            this.tmp = tmp;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getVis() {[m
[32m+[m[32m            return vis;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setVis(String vis) {[m
[32m+[m[32m            this.vis = vis;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getWind_dir() {[m
[32m+[m[32m            return wind_dir;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setWind_dir(String wind_dir) {[m
[32m+[m[32m            this.wind_dir = wind_dir;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getWind_sc() {[m
[32m+[m[32m            return wind_sc;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setWind_sc(String wind_sc) {[m
[32m+[m[32m            this.wind_sc = wind_sc;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getWind_spd() {[m
[32m+[m[32m            return wind_spd;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setWind_spd(String wind_spd) {[m
[32m+[m[32m            this.wind_spd = wind_spd;[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public static class DailyForecastBean {[m
[32m+[m
[32m+[m[32m        private String cond_code_d;[m
[32m+[m[32m        private String cond_code_n;[m
[32m+[m[32m        private String cond_txt_d;[m
[32m+[m[32m        private String cond_txt_n;[m
[32m+[m[32m        private String date;[m
[32m+[m[32m        private String hum;[m
[32m+[m[32m        private String mr;[m
[32m+[m[32m        private String ms;[m
[32m+[m[32m        private String pcpn;[m
[32m+[m[32m        private String pop;[m
[32m+[m[32m        private String pres;[m
[32m+[m[32m        private String sr;[m
[32m+[m[32m        private String ss;[m
[32m+[m[32m        private String tmp_max;[m
[32m+[m[32m        private String tmp_min;[m
[32m+[m[32m        private String uv_index;[m
[32m+[m[32m        private String vis;[m
[32m+[m[32m        private String wind_dir;[m
[32m+[m[32m        private String wind_sc;[m
[32m+[m[32m        private String wind_spd;[m
[32m+[m
[32m+[m[32m        public String getCond_code_d() {[m
[32m+[m[32m            return cond_code_d;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setCond_code_d(String cond_code_d) {[m
[32m+[m[32m            this.cond_code_d = cond_code_d;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getCond_code_n() {[m
[32m+[m[32m            return cond_code_n;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setCond_code_n(String cond_code_n) {[m
[32m+[m[32m            this.cond_code_n = cond_code_n;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getCond_txt_d() {[m
[32m+[m[32m            return cond_txt_d;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setCond_txt_d(String cond_txt_d) {[m
[32m+[m[32m            this.cond_txt_d = cond_txt_d;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getCond_txt_n() {[m
[32m+[m[32m            return cond_txt_n;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setCond_txt_n(String cond_txt_n) {[m
[32m+[m[32m            this.cond_txt_n = cond_txt_n;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getDate() {[m
[32m+[m[32m            return date;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setDate(String date) {[m
[32m+[m[32m            this.date = date;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getHum() {[m
[32m+[m[32m            return hum;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setHum(String hum) {[m
[32m+[m[32m            this.hum = hum;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getMr() {[m
[32m+[m[32m            return mr;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setMr(String mr) {[m
[32m+[m[32m            this.mr = mr;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getMs() {[m
[32m+[m[32m            return ms;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setMs(String ms) {[m
[32m+[m[32m            this.ms = ms;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getPcpn() {[m
[32m+[m[32m            return pcpn;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setPcpn(String pcpn) {[m
[32m+[m[32m            this.pcpn = pcpn;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getPop() {[m
[32m+[m[32m            return pop;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setPop(String pop) {[m
[32m+[m[32m            this.pop = pop;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getPres() {[m
[32m+[m[32m            return pres;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setPres(String pres) {[m
[32m+[m[32m            this.pres = pres;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getSr() {[m
[32m+[m[32m            return sr;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setSr(String sr) {[m
[32m+[m[32m            this.sr = sr;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getSs() {[m
[32m+[m[32m            return ss;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setSs(String ss) {[m
[32m+[m[32m            this.ss = ss;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getTmp_max() {[m
[32m+[m[32m            return tmp_max;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setTmp_max(String tmp_max) {[m
[32m+[m[32m            this.tmp_max = tmp_max;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getTmp_min() {[m
[32m+[m[32m            return tmp_min;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setTmp_min(String tmp_min) {[m
[32m+[m[32m            this.tmp_min = tmp_min;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getUv_index() {[m
[32m+[m[32m            return uv_index;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setUv_index(String uv_index) {[m
[32m+[m[32m            this.uv_index = uv_index;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getVis() {[m
[32m+[m[32m            return vis;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setVis(String vis) {[m
[32m+[m[32m            this.vis = vis;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getWind_dir() {[m
[32m+[m[32m            return wind_dir;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setWind_dir(String wind_dir) {[m
[32m+[m[32m            this.wind_dir = wind_dir;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getWind_sc() {[m
[32m+[m[32m            return wind_sc;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setWind_sc(String wind_sc) {[m
[32m+[m[32m            this.wind_sc = wind_sc;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getWind_spd() {[m
[32m+[m[32m            return wind_spd;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setWind_spd(String wind_spd) {[m
[32m+[m[32m            this.wind_spd = wind_spd;[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public static class HourlyBean {[m
[32m+[m
[32m+[m[32m        private String cond_code;[m
[32m+[m[32m        private String cond_txt;[m
[32m+[m[32m        private String time;[m
[32m+[m[32m        private String tmp;[m
[32m+[m[32m        private String pop;[m
[32m+[m
[32m+[m[32m        public String getPop() {[m
[32m+[m[32m            return pop;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setPop(String pop) {[m
[32m+[m[32m            this.pop = pop;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getCond_code() {[m
[32m+[m[32m            return cond_code;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setCond_code(String cond_code) {[m
[32m+[m[32m            this.cond_code = cond_code;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getCond_txt() {[m
[32m+[m[32m            return cond_txt;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setCond_txt(String cond_txt) {[m
[32m+[m[32m            this.cond_txt = cond_txt;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getTime() {[m
[32m+[m[32m            return time;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setTime(String time) {[m
[32m+[m[32m            this.time = time;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getTmp() {[m
[32m+[m[32m            return tmp;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setTmp(String tmp) {[m
[32m+[m[32m            this.tmp = tmp;[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public static class LifestyleBean {[m
[32m+[m[32m        /**[m
[32m+[m[32m         * brf : 舒适[m
[32m+[m[32m         * txt : 白天不太热也不太冷，风力不大，相信您在这样的天气条件下，应会感到比较清爽和舒适。[m
[32m+[m[32m         * type : comf[m
[32m+[m[32m         */[m
[32m+[m
[32m+[m[32m        private String brf;[m
[32m+[m[32m        private String txt;[m
[32m+[m[32m        private String type;[m
[32m+[m
[32m+[m[32m        public String getBrf() {[m
[32m+[m[32m            return brf;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setBrf(String brf) {[m
[32m+[m[32m            this.brf = brf;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getTxt() {[m
[32m+[m[32m            return txt;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setTxt(String txt) {[m
[32m+[m[32m            this.txt = txt;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public String getType() {[m
[32m+[m[32m            return type;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void setType(String type) {[m
[32m+[m[32m            this.type = type;[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/com/coolweather/android/service/AutoUpdateService.java b/app/src/main/java/com/coolweather/android/service/AutoUpdateService.java[m
[1mnew file mode 100644[m
[1mindex 0000000..3abd962[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/coolweather/android/service/AutoUpdateService.java[m
[36m@@ -0,0 +1,124 @@[m
[32m+[m[32mpackage com.coolweather.android.service;[m
[32m+[m
[32m+[m[32mimport android.app.AlarmManager;[m
[32m+[m[32mimport android.app.PendingIntent;[m
[32m+[m[32mimport android.app.Service;[m
[32m+[m[32mimport android.content.Intent;[m
[32m+[m[32mimport android.content.SharedPreferences;[m
[32m+[m[32mimport android.os.IBinder;[m
[32m+[m[32mimport android.os.SystemClock;[m
[32m+[m[32mimport android.preference.PreferenceManager;[m
[32m+[m
[32m+[m[32mimport com.coolweather.android.gson.MyWeatherBean;[m
[32m+[m[32mimport com.coolweather.android.utils.HttpCallbackListener;[m
[32m+[m[32mimport com.coolweather.android.utils.HttpUtil;[m
[32m+[m[32mimport com.coolweather.android.utils.PCCUtil;[m
[32m+[m
[32m+[m[32mpublic class AutoUpdateService extends Service {[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    public IBinder onBind(Intent intent) {[m
[32m+[m[32m        return null;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    public int onStartCommand(Intent intent, int flags, int startId) {[m
[32m+[m[32m        updateWeather();[m
[32m+[m[32m        updateBingPic();[m
[32m+[m[32m        AlarmManager manager = (AlarmManager) getSystemService(ALARM_SERVICE);[m
[32m+[m[32m        int anHour = 1 * 60 * 60 * 1000; // 这是1小时的毫秒数[m
[32m+[m[32m        long triggerAtTime = SystemClock.elapsedRealtime() + anHour;[m
[32m+[m[32m        Intent i = new Intent(this, AutoUpdateService.class);[m
[32m+[m[32m        PendingIntent pi = PendingIntent.getService(this, 0, i, 0);[m
[32m+[m[32m        manager.cancel(pi);[m
[32m+[m[32m        manager.set(AlarmManager.ELAPSED_REALTIME_WAKEUP, triggerAtTime, pi);// 由于Doze机制，可以设置更精确一点！[m
[32m+[m[32m        return super.onStartCommand(intent, flags, startId);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 更新天气信息。[m
[32m+[m[32m     */[m
[32m+[m[32m    private void updateWeather(){[m
[32m+[m[32m        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);[m
[32m+[m[32m        String weatherString = prefs.getString("weather", null);[m
[32m+[m[32m        if (weatherString != null) {[m
[32m+[m[32m            // 有缓存时直接解析天气数据[m
[32m+[m[32m            MyWeatherBean weather = PCCUtil.handleWeatherResponse(weatherString);[m
[32m+[m[32m            String weatherId = weather.getBasic().getCid();[m
[32m+[m[32m            String weatherUrl = "https://free-api.heweather.com/s6/weather?" +[m
[32m+[m[32m                    "location=" + weatherId + "&" +[m
[32m+[m[32m                    "key=bc0418b57b2d4918819d3974ac1285d9" + "&" +[m
[32m+[m[32m                    "lang=zh" + "&" +[m
[32m+[m[32m                    "unit=m";[m
[32m+[m
[32m+[m[32m            HttpUtil.sendHttpUrlConnectionResquest(weatherUrl, new HttpCallbackListener() {[m
[32m+[m[32m                @Override[m
[32m+[m[32m                public void onFailure(Exception e) {[m
[32m+[m[32m                    e.printStackTrace();[m
[32m+[m[32m                }[m
[32m+[m
[32m+[m[32m                @Override[m
[32m+[m[32m                public void onResponse(final String response) {[m
[32m+[m[32m                    MyWeatherBean weather = PCCUtil.handleWeatherResponse(response);[m
[32m+[m[32m                    if (weather != null && "ok".equals(weather.getStatus())) {[m
[32m+[m[32m                        SharedPreferences.Editor editor = PreferenceManager.getDefaultSharedPreferences(AutoUpdateService.this).edit();[m
[32m+[m[32m                        editor.putString("weather", response);[m
[32m+[m[32m                        editor.apply();[m
[32m+[m[32m                    }[m
[32m+[m[32m                }[m
[32m+[m[32m            });[m
[32m+[m[32m//            HttpUtil.sendOkHttpRequest(weatherUrl, new Callback() {[m
[32m+[m[32m//                @Override[m
[32m+[m[32m//                public void onResponse(Call call, Response response) throws IOException {[m
[32m+[m[32m//                    String responseText = response.body().string();[m
[32m+[m[32m//                    MyWeatherBean weather = PCCUtil.handleWeatherResponse(responseText);[m
[32m+[m[32m//                    if (weather != null && "ok".equals(weather.getStatus())) {[m
[32m+[m[32m//                        SharedPreferences.Editor editor = PreferenceManager.getDefaultSharedPreferences(AutoUpdateService.this).edit();[m
[32m+[m[32m//                        editor.putString("weather", responseText);[m
[32m+[m[32m//                        editor.apply();[m
[32m+[m[32m//                    }[m
[32m+[m[32m//                }[m
[32m+[m[32m//[m
[32m+[m[32m//                @Override[m
[32m+[m[32m//                public void onFailure(Call call, IOException e) {[m
[32m+[m[32m//                    e.printStackTrace();[m
[32m+[m[32m//                }[m
[32m+[m[32m//            });[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 更新必应每日一图[m
[32m+[m[32m     */[m
[32m+[m[32m    private void updateBingPic() {[m
[32m+[m[32m        String requestBingPic = "http://guolin.tech/api/bing_pic";[m
[32m+[m[32m        HttpUtil.sendHttpUrlConnectionResquest(requestBingPic, new HttpCallbackListener() {[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onFailure(Exception e) {[m
[32m+[m[32m                e.printStackTrace();[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onResponse(final String response) {[m
[32m+[m[32m                SharedPreferences.Editor editor = PreferenceManager.getDefaultSharedPreferences(AutoUpdateService.this).edit();[m
[32m+[m[32m                editor.putString("bing_pic", response);[m
[32m+[m[32m                editor.apply();[m
[32m+[m[32m            }[m
[32m+[m[32m        });[m
[32m+[m[32m//        HttpUtil.sendOkHttpRequest(requestBingPic, new Callback() {[m
[32m+[m[32m//            @Override[m
[32m+[m[32m//            public void onResponse(Call call, Response response) throws IOException {[m
[32m+[m[32m//                String bingPic = response.body().string();[m
[32m+[m[32m//                SharedPreferences.Editor editor = PreferenceManager.getDefaultSharedPreferences(AutoUpdateService.this).edit();[m
[32m+[m[32m//                editor.putString("bing_pic", bingPic);[m
[32m+[m[32m//                editor.apply();[m
[32m+[m[32m//            }[m
[32m+[m[32m//[m
[32m+[m[32m//            @Override[m
[32m+[m[32m//            public void onFailure(Call call, IOException e) {[m
[32m+[m[32m//                e.printStackTrace();[m
[32m+[m[32m//            }[m
[32m+[m[32m//        });[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/com/coolweather/android/sunriseView/SunriseView.java b/app/src/main/java/com/coolweather/android/sunriseView/SunriseView.java[m
[1mnew file mode 100644[m
[1mindex 0000000..b37d2fc[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/coolweather/android/sunriseView/SunriseView.java[m
[36m@@ -0,0 +1,205 @@[m
[32m+[m[32mpackage com.coolweather.android.sunriseView;[m
[32m+[m
[32m+[m[32mimport android.animation.ValueAnimator;[m
[32m+[m[32mimport android.content.Context;[m
[32m+[m[32mimport android.graphics.Bitmap;[m
[32m+[m[32mimport android.graphics.BitmapFactory;[m
[32m+[m[32mimport android.graphics.Canvas;[m
[32m+[m[32mimport android.graphics.Color;[m
[32m+[m[32mimport android.graphics.DashPathEffect;[m
[32m+[m[32mimport android.graphics.Paint;[m
[32m+[m[32mimport android.graphics.PathEffect;[m
[32m+[m[32mimport android.graphics.RectF;[m
[32m+[m[32mimport android.graphics.Region;[m
[32m+[m[32mimport android.util.AttributeSet;[m
[32m+[m[32mimport android.util.TypedValue;[m
[32m+[m[32mimport android.view.View;[m
[32m+[m[32mimport android.view.animation.LinearInterpolator;[m
[32m+[m
[32m+[m[32mimport com.coolweather.android.R;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by Administrator on 2018/3/2 0002.[m
[32m+[m[32m * @author https://github.com/OnlyTerminator/SunriseView.git[m
[32m+[m[32m * 这个动画是CV来的！[m
[32m+[m[32m */[m
[32m+[m
[32m+[m
[32m+[m[32mpublic class SunriseView extends View {[m
[32m+[m[32m    private Paint mPathPaint;[m
[32m+[m[32m    private Paint mAnmationPaint;[m
[32m+[m[32m    private int mStartPointX;[m
[32m+[m[32m    private int mStartPointY;[m
[32m+[m[32m    private int mEndPointX;[m
[32m+[m[32m    private int mEndPointY;[m
[32m+[m
[32m+[m[32m    private int mMovePointX;[m
[32m+[m[32m    private int mMovePointY;[m
[32m+[m
[32m+[m[32m    private int mCirclePointX;[m
[32m+[m[32m    private int mCirclePointY;[m
[32m+[m
[32m+[m[32m    private Bitmap mSunBitmap;[m
[32m+[m[32m    private int mBitmapW;[m
[32m+[m[32m    private int mBitmapH;[m
[32m+[m[32m    private boolean mNotUp;[m
[32m+[m[32m    private boolean isNeedSun;[m
[32m+[m[32m    private boolean mHasDown;[m
[32m+[m[32m    private int mRadius;[m
[32m+[m[32m    private RectF mRectF;[m
[32m+[m
[32m+[m[32m    public SunriseView(Context context, AttributeSet attrs) {[m
[32m+[m[32m        this(context, attrs, 0);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public SunriseView(Context context) {[m
[32m+[m[32m        this(context, null);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public SunriseView(Context context, AttributeSet attrs, int defStyleAttr) {[m
[32m+[m[32m        super(context, attrs, defStyleAttr);[m
[32m+[m[32m        initData();[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {[m
[32m+[m[32m        super.onMeasure(widthMeasureSpec, heightMeasureSpec);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    protected void onLayout(boolean changed, int left, int top, int right, int bottom) {[m
[32m+[m[32m        super.onLayout(changed, left, top, right, bottom);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    protected void onDraw(Canvas canvas) {[m
[32m+[m[32m        super.onDraw(canvas);[m
[32m+[m[32m        if (isNeedSun) {[m
[32m+[m[32m            //画曲线[m
[32m+[m[32m            canvas.save();[m
[32m+[m[32m            canvas.clipRect(mStartPointX, 0, mEndPointX, mStartPointY, Region.Op.INTERSECT);[m
[32m+[m[32m            canvas.clipRect(mMovePointX - mBitmapW / 2, mMovePointY - mBitmapH / 2, mMovePointX + mBitmapW / 2, mMovePointY + mBitmapH / 2, Region.Op.DIFFERENCE);[m
[32m+[m[32m            canvas.drawArc(mRectF, 200, 140, true, mPathPaint);[m
[32m+[m[32m            //画透明背景用圆的角度来控制[m
[32m+[m[32m            canvas.clipRect(mStartPointX, 0, mMovePointX, mStartPointY, Region.Op.INTERSECT);[m
[32m+[m[32m            canvas.drawArc(mRectF, 200, 140, true, mAnmationPaint);[m
[32m+[m[32m            canvas.restore();[m
[32m+[m
[32m+[m[32m            //画小太阳[m
[32m+[m[32m            canvas.drawBitmap(mSunBitmap, mMovePointX - mBitmapW, mMovePointY - mBitmapH, null);[m
[32m+[m
[32m+[m[32m        } else if (mNotUp || mHasDown) {[m
[32m+[m[32m            //画曲线[m
[32m+[m[32m            canvas.save();[m
[32m+[m[32m            canvas.clipRect(mMovePointX - mBitmapW / 2, mMovePointY - mBitmapH / 2, mMovePointX + mBitmapW / 2, mMovePointY + mBitmapH / 2, Region.Op.DIFFERENCE);[m
[32m+[m[32m            canvas.clipRect(0, 0, getWidth(), mStartPointY, Region.Op.INTERSECT);[m
[32m+[m[32m            canvas.drawCircle(mCirclePointX, mCirclePointY, mRadius, mPathPaint);[m
[32m+[m[32m            canvas.restore();[m
[32m+[m
[32m+[m[32m            if (mNotUp) {[m
[32m+[m[32m                //画小太阳[m
[32m+[m[32m                canvas.drawBitmap(mSunBitmap, mStartPointX - mBitmapW, mStartPointY - mBitmapH, null);[m
[32m+[m[32m            } else {[m
[32m+[m[32m                canvas.drawBitmap(mSunBitmap, mEndPointX - mBitmapW, mEndPointY - mBitmapH, null);[m
[32m+[m[32m            }[m
[32m+[m[32m        } else {[m
[32m+[m[32m            //这里不绘制小太阳，只有曲线[m
[32m+[m[32m            canvas.save();[m
[32m+[m[32m            canvas.clipRect(0, 0, getWidth(), mStartPointY, Region.Op.INTERSECT);[m
[32m+[m[32m            canvas.drawCircle(mCirclePointX, mCirclePointY, mRadius, mPathPaint);[m
[32m+[m[32m            canvas.restore();[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void sunAnim(final float a) {[m
[32m+[m[32m        if (a == 0) {[m
[32m+[m[32m            mSunBitmap = BitmapFactory.decodeResource(getResources(), R.drawable.daily_deatil_sun_up);[m
[32m+[m[32m            mBitmapW = mSunBitmap.getWidth() / 2;[m
[32m+[m[32m            mBitmapH = mSunBitmap.getHeight();[m
[32m+[m[32m            mNotUp = true;[m
[32m+[m[32m            isNeedSun = false;[m
[32m+[m[32m            mHasDown = false;[m
[32m+[m[32m            invalidate();[m
[32m+[m[32m        } else if (a == 1) {[m
[32m+[m[32m            mSunBitmap = BitmapFactory.decodeResource(getResources(), R.drawable.daily_deatil_sun_up);[m
[32m+[m[32m            mBitmapW = mSunBitmap.getWidth() / 2;[m
[32m+[m[32m            mBitmapH = mSunBitmap.getHeight();[m
[32m+[m[32m            mNotUp = false;[m
[32m+[m[32m            isNeedSun = false;[m
[32m+[m[32m            mHasDown = true;[m
[32m+[m[32m            mMovePointX = mEndPointX;[m
[32m+[m[32m            mMovePointY = mEndPointY;[m
[32m+[m[32m            invalidate();[m
[32m+[m[32m        } else {[m
[32m+[m[32m            mSunBitmap = BitmapFactory.decodeResource(getResources(), R.drawable.daily_deatil_sun);[m
[32m+[m[32m            mBitmapW = mSunBitmap.getWidth() / 2;[m
[32m+[m[32m            mBitmapH = mSunBitmap.getHeight() / 2;[m
[32m+[m[32m            mNotUp = false;[m
[32m+[m[32m            isNeedSun = true;[m
[32m+[m[32m            mHasDown = false;[m
[32m+[m[32m            ValueAnimator progressAnimator = ValueAnimator.ofFloat(210, 330);[m
[32m+[m[32m            progressAnimator.setDuration(3000);[m
[32m+[m[32m            progressAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {[m
[32m+[m[32m                @Override[m
[32m+[m[32m                public void onAnimationUpdate(ValueAnimator animation) {[m
[32m+[m[32m                    /**每次在初始值和结束值之间产生的一个平滑过渡的值，逐步去更新进度*/[m
[32m+[m[32m                    float x = (float) animation.getAnimatedValue();[m
[32m+[m[32m                    if ((x - 210) <= (120 * a)) {[m
[32m+[m[32m                        mMovePointX = mCirclePointX + (int) (mRadius * (Math.cos(x * 3.14 / 180)));[m
[32m+[m[32m                        mMovePointY = mCirclePointY + (int) (mRadius * (Math.sin(x * 3.14 / 180)));[m
[32m+[m[32m                        invalidate();[m
[32m+[m[32m                    } else {[m
[32m+[m[32m                        return;[m
[32m+[m[32m                    }[m
[32m+[m[32m                }[m
[32m+[m[32m            });[m
[32m+[m[32m            progressAnimator.setInterpolator(new LinearInterpolator());[m
[32m+[m[32m            progressAnimator.start();[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    private void initData() {[m
[32m+[m[32m        //曲线初始化[m
[32m+[m[32m        mPathPaint = new Paint(Paint.ANTI_ALIAS_FLAG);[m
[32m+[m[32m        mPathPaint.setStyle(Paint.Style.STROKE);[m
[32m+[m[32m        mPathPaint.setStrokeWidth(2);[m
[32m+[m[32m        mPathPaint.setColor(Color.parseColor("#ffffff"));[m
[32m+[m[32m        PathEffect effects = new DashPathEffect(new float[]{10, 10, 10, 10}, 0);[m
[32m+[m[32m        mPathPaint.setPathEffect(effects);[m
[32m+[m
[32m+[m[32m        //日出动画阴影部分初始化[m
[32m+[m[32m        mAnmationPaint = new Paint(Paint.ANTI_ALIAS_FLAG);[m
[32m+[m[32m        mAnmationPaint.setStyle(Paint.Style.FILL_AND_STROKE);[m
[32m+[m[32m        mAnmationPaint.setColor(Color.parseColor("#32ffffff"));[m
[32m+[m
[32m+[m[32m        //开始坐标的XY[m
[32m+[m[32m        mStartPointX = dp2px(9);[m
[32m+[m[32m        mStartPointY = dp2px(80);[m
[32m+[m
[32m+[m[32m        //结束坐标的XY[m
[32m+[m[32m        mEndPointX = dp2px(139);[m
[32m+[m[32m        mEndPointY = mStartPointY;[m
[32m+[m
[32m+[m[32m        //太阳的移动坐标的XY[m
[32m+[m[32m        mMovePointX = mStartPointX;[m
[32m+[m[32m        mMovePointY = mStartPointY;[m
[32m+[m
[32m+[m[32m        //圆的半径[m
[32m+[m[32m        mRadius = dp2px(74);[m
[32m+[m
[32m+[m[32m        //圆心坐标[m
[32m+[m[32m        mCirclePointX = dp2px(74);[m
[32m+[m[32m        mCirclePointY = dp2px(115);[m
[32m+[m
[32m+[m[32m        //圆的初始化[m
[32m+[m[32m        mRectF = new RectF(mCirclePointX - mRadius, mCirclePointY - mRadius, mCirclePointX + mRadius, mCirclePointY + mRadius);[m
[32m+[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * dp转px[m
[32m+[m[32m     */[m
[32m+[m[32m    public int dp2px(float dpVal) {[m
[32m+[m[32m        return (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, dpVal, getResources().getDisplayMetrics());[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/java/com/coolweather/android/utils/DisplayUtil.java b/app/src/main/java/com/coolweather/android/utils/DisplayUtil.java[m
[1mnew file mode 100644[m
[1mindex 0000000..145bbfa[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/coolweather/android/utils/DisplayUtil.java[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32mpackage com.coolweather.android.utils;[m
[32m+[m
[32m+[m[32mimport android.content.Context;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by Administrator on 2018/3/2 0002.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mpublic class DisplayUtil[m
[32m+[m[32m{[m
[32m+[m
[32m+[m[32m    public static int dp2px(Context context, float dpValue)[m
[32m+[m[32m    {[m
[32m+[m[32m        float scale = context.getResources().getDisplayMetrics().density;[m
[32m+[m[32m        return (int) (dpValue * scale + 0.5f);[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/java/com/coolweather/android/utils/HttpCallbackListener.java b/app/src/main/java/com/coolweather/android/utils/HttpCallbackListener.java[m
[1mnew file mode 100644[m
[1mindex 0000000..66f112b[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/coolweather/android/utils/HttpCallbackListener.java[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32mpackage com.coolweather.android.utils;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by Administrator on 2018/3/3 0003.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mpublic interface HttpCallbackListener {[m
[32m+[m
[32m+[m[32m    void onFailure(Exception e);[m
[32m+[m[32m    void onResponse(final String response);[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/com/coolweather/android/utils/HttpUtil.java b/app/src/main/java/com/coolweather/android/utils/HttpUtil.java[m
[1mnew file mode 100644[m
[1mindex 0000000..e47f9e4[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/coolweather/android/utils/HttpUtil.java[m
[36m@@ -0,0 +1,90 @@[m
[32m+[m[32mpackage com.coolweather.android.utils;[m
[32m+[m
[32m+[m[32mimport android.util.Log;[m
[32m+[m
[32m+[m[32mimport java.io.ByteArrayOutputStream;[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.io.InputStream;[m
[32m+[m[32mimport java.net.HttpURLConnection;[m
[32m+[m[32mimport java.net.URL;[m
[32m+[m
[32m+[m[32mimport okhttp3.OkHttpClient;[m
[32m+[m[32mimport okhttp3.Request;[m
[32m+[m
[32m+[m[32mpublic class HttpUtil {[m
[32m+[m[32m    private static final String TAG = "HttpUtil";[m
[32m+[m
[32m+[m[32m    public static void sendOkHttpRequest(String address, okhttp3.Callback callback) {[m
[32m+[m[32m        OkHttpClient client = new OkHttpClient();[m
[32m+[m[32m        Request request = new Request.Builder().url(address).build();[m
[32m+[m[32m        client.newCall(request).enqueue(callback);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 请求方式 : GET[m
[32m+[m[32m     *[m
[32m+[m[32m     * @param address  请求地址[m
[32m+[m[32m     * @param listener 自定义的回调接口，用于向主线程返回请求结果[m
[32m+[m[32m     */[m
[32m+[m[32m    public static void sendHttpUrlConnectionResquest(final String address, final HttpCallbackListener listener) {[m
[32m+[m[32m        new Thread(new Runnable() {[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void run() {[m
[32m+[m[32m                HttpURLConnection connection = null;[m
[32m+[m[32m                InputStream is = null;[m
[32m+[m[32m                ByteArrayOutputStream os = null;[m
[32m+[m[32m                try {[m
[32m+[m[32m                    URL url = new URL(address);[m
[32m+[m[32m                    Log.i(TAG, "哈哈哈address: " + address);[m
[32m+[m[32m                    Log.i(TAG, "哈哈哈url: " + url.toString());[m
[32m+[m[32m                    connection = (HttpURLConnection) url.openConnection();[m
[32m+[m[32m                    connection.setRequestMethod("GET");[m
[32m+[m[32m                    connection.setDoInput(true);[m
[32m+[m[32m                    connection.setConnectTimeout(8 * 1000);[m
[32m+[m[32m                    connection.setReadTimeout(8 * 1000);[m
[32m+[m
[32m+[m[32m                    int responseCode = connection.getResponseCode();[m
[32m+[m[32m                    if (responseCode == 200) {[m
[32m+[m[32m                        is = connection.getInputStream();[m
[32m+[m[32m                        os = new ByteArrayOutputStream();[m
[32m+[m[32m                        byte[] buffer = new byte[1024];[m
[32m+[m[32m                        int len = -1;[m
[32m+[m[32m                        while ((len = is.read(buffer)) != -1) {[m
[32m+[m[32m                            os.write(buffer, 0, len);[m
[32m+[m[32m                        }[m
[32m+[m[32m                        String response = os.toString();[m
[32m+[m[32m                        if (listener != null) {[m
[32m+[m[32m                            listener.onResponse(response);[m
[32m+[m[32m                            Log.i(TAG, "哈哈哈response:" + response);[m
[32m+[m[32m                        }[m
[32m+[m[32m                    }[m
[32m+[m
[32m+[m[32m                } catch (Exception e) {[m
[32m+[m[32m                    if (listener != null) {[m
[32m+[m[32m                        listener.onFailure(e);[m
[32m+[m[32m                    }[m
[32m+[m[32m                } finally {[m
[32m+[m[32m                    if (connection != null) {[m
[32m+[m[32m                        connection.disconnect();[m
[32m+[m[32m                    }[m
[32m+[m[32m                    if (is != null) {[m
[32m+[m[32m                        try {[m
[32m+[m[32m                            is.close();[m
[32m+[m[32m                        } catch (IOException e) {[m
[32m+[m[32m                            e.printStackTrace();[m
[32m+[m[32m                        }[m
[32m+[m[32m                    }[m
[32m+[m[32m                    if (os != null) {[m
[32m+[m[32m                        try {[m
[32m+[m[32m                            os.close();[m
[32m+[m[32m                        } catch (IOException e) {[m
[32m+[m[32m                            e.printStackTrace();[m
[32m+[m[32m                        }[m
[32m+[m[32m                    }[m
[32m+[m[32m                }[m
[32m+[m[32m            }[m
[32m+[m[32m        }).start();[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/com/coolweather/android/utils/PCCUtil.java b/app/src/main/java/com/coolweather/android/utils/PCCUtil.java[m
[1mnew file mode 100644[m
[1mindex 0000000..b2c712e[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/coolweather/android/utils/PCCUtil.java[m
[36m@@ -0,0 +1,220 @@[m
[32m+[m[32mpackage com.coolweather.android.utils;[m
[32m+[m
[32m+[m[32mimport android.text.TextUtils;[m
[32m+[m
[32m+[m[32mimport com.coolweather.android.R;[m
[32m+[m[32mimport com.coolweather.android.db.City;[m
[32m+[m[32mimport com.coolweather.android.db.County;[m
[32m+[m[32mimport com.coolweather.android.db.Province;[m
[32m+[m[32mimport com.coolweather.android.gson.MyWeatherBean;[m
[32m+[m[32mimport com.google.gson.Gson;[m
[32m+[m
[32m+[m[32mimport org.json.JSONArray;[m
[32m+[m[32mimport org.json.JSONException;[m
[32m+[m[32mimport org.json.JSONObject;[m
[32m+[m
[32m+[m[32mpublic class PCCUtil {[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 解析和处理服务器返回的省级数据[m
[32m+[m[32m     */[m
[32m+[m[32m    public static boolean handleProvinceResponse(String response) {[m
[32m+[m[32m        if (!TextUtils.isEmpty(response)) {[m
[32m+[m[32m            try {[m
[32m+[m[32m                JSONArray allProvinces = new JSONArray(response);[m
[32m+[m[32m                for (int i = 0; i < allProvinces.length(); i++) {[m
[32m+[m[32m                    JSONObject provinceObject = allProvinces.getJSONObject(i);[m
[32m+[m[32m                    Province province = new Province();[m
[32m+[m[32m                    province.setProvinceName(provinceObject.getString("name"));[m
[32m+[m[32m                    province.setProvinceCode(provinceObject.getInt("id"));[m
[32m+[m[32m                    province.save();[m
[32m+[m[32m                }[m
[32m+[m[32m                return true;[m
[32m+[m[32m            } catch (JSONException e) {[m
[32m+[m[32m                e.printStackTrace();[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m[32m        return false;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 解析和处理服务器返回的市级数据[m
[32m+[m[32m     */[m
[32m+[m[32m    public static boolean handleCityResponse(String response, int provinceId) {[m
[32m+[m[32m        if (!TextUtils.isEmpty(response)) {[m
[32m+[m[32m            try {[m
[32m+[m[32m                JSONArray allCities = new JSONArray(response);[m
[32m+[m[32m                for (int i = 0; i < allCities.length(); i++) {[m
[32m+[m[32m                    JSONObject cityObject = allCities.getJSONObject(i);[m
[32m+[m[32m                    City city = new City();[m
[32m+[m[32m                    city.setCityName(cityObject.getString("name"));[m
[32m+[m[32m                    city.setCityCode(cityObject.getInt("id"));[m
[32m+[m[32m                    city.setProvinceId(provinceId);[m
[32m+[m[32m                    city.save();[m
[32m+[m[32m                }[m
[32m+[m[32m                return true;[m
[32m+[m[32m            } catch (JSONException e) {[m
[32m+[m[32m                e.printStackTrace();[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m[32m        return false;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 解析和处理服务器返回的县级数据[m
[32m+[m[32m     */[m
[32m+[m[32m    public static boolean handleCountyResponse(String response, int cityId) {[m
[32m+[m[32m        if (!TextUtils.isEmpty(response)) {[m
[32m+[m[32m            try {[m
[32m+[m[32m                JSONArray allCounties = new JSONArray(response);[m
[32m+[m[32m                for (int i = 0; i < allCounties.length(); i++) {[m
[32m+[m[32m                    JSONObject countyObject = allCounties.getJSONObject(i);[m
[32m+[m[32m                    County county = new County();[m
[32m+[m[32m                    county.setCountyName(countyObject.getString("name"));[m
[32m+[m[32m                    county.setWeatherId(countyObject.getString("weather_id"));[m
[32m+[m[32m                    county.setCityId(cityId);[m
[32m+[m[32m                    county.save();[m
[32m+[m[32m                }[m
[32m+[m[32m                return true;[m
[32m+[m[32m            } catch (JSONException e) {[m
[32m+[m[32m                e.printStackTrace();[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m[32m        return false;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 将返回的JSON数据解析成Weather实体类[m
[32m+[m[32m     */[m
[32m+[m[32m    public static MyWeatherBean handleWeatherResponse(String response) {[m
[32m+[m[32m        try {[m
[32m+[m[32m            JSONObject jsonObject = new JSONObject(response);[m
[32m+[m[32m            JSONArray jsonArray = jsonObject.getJSONArray("HeWeather6");[m
[32m+[m[32m            String weatherContent = jsonArray.getJSONObject(0).toString();[m
[32m+[m[32m           return new Gson().fromJson(weatherContent, MyWeatherBean.class);[m
[32m+[m[32m        } catch (Exception e) {[m
[32m+[m[32m            e.printStackTrace();[m
[32m+[m[32m        }[m
[32m+[m[32m        return null;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public static int matchWeatherIocnCode(String weatherIocnCode) {[m
[32m+[m[32m        switch (weatherIocnCode) {[m
[32m+[m[32m            case "100":[m
[32m+[m[32m                return R.drawable.icon_100;[m
[32m+[m[32m            case "100n":[m
[32m+[m[32m                return R.drawable.icon_100n;[m
[32m+[m[32m            case "101":[m
[32m+[m[32m                return R.drawable.icon_101;[m
[32m+[m[32m            case "102":[m
[32m+[m[32m                return R.drawable.icon_102;[m
[32m+[m[32m            case "103":[m
[32m+[m[32m                return R.drawable.icon_103;[m
[32m+[m[32m            case "103n":[m
[32m+[m[32m                return R.drawable.icon_103n;[m
[32m+[m[32m            case "104":[m
[32m+[m[32m                return R.drawable.icon_104;[m
[32m+[m[32m            case "104n":[m
[32m+[m[32m                return R.drawable.icon_104n;[m
[32m+[m[32m            case "200":[m
[32m+[m[32m                return R.drawable.icon_200;[m
[32m+[m[32m            case "201":[m
[32m+[m[32m                return R.drawable.icon_201;[m
[32m+[m[32m            case "202":[m
[32m+[m[32m                return R.drawable.icon_202;[m
[32m+[m[32m            case "203":[m
[32m+[m[32m                return R.drawable.icon_203;[m
[32m+[m[32m            case "204":[m
[32m+[m[32m                return R.drawable.icon_204;[m
[32m+[m[32m            case "205":[m
[32m+[m[32m                return R.drawable.icon_205;[m
[32m+[m[32m            case "206":[m
[32m+[m[32m                return R.drawable.icon_206;[m
[32m+[m[32m            case "207":[m
[32m+[m[32m                return R.drawable.icon_207;[m
[32m+[m[32m            case "208":[m
[32m+[m[32m                return R.drawable.icon_208;[m
[32m+[m[32m            case "209":[m
[32m+[m[32m                return R.drawable.icon_209;[m
[32m+[m[32m            case "210":[m
[32m+[m[32m                return R.drawable.icon_210;[m
[32m+[m[32m            case "211":[m
[32m+[m[32m                return R.drawable.icon_211;[m
[32m+[m[32m            case "212":[m
[32m+[m[32m                return R.drawable.icon_212;[m
[32m+[m[32m            case "213":[m
[32m+[m[32m                return R.drawable.icon_213;[m
[32m+[m[32m            case "300":[m
[32m+[m[32m                return R.drawable.icon_300;[m
[32m+[m[32m            case "300n":[m
[32m+[m[32m                return R.drawable.icon_300n;[m
[32m+[m[32m            case "301":[m
[32m+[m[32m                return R.drawable.icon_301;[m
[32m+[m[32m            case "301n":[m
[32m+[m[32m                return R.drawable.icon_301n;[m
[32m+[m[32m            case "302":[m
[32m+[m[32m                return R.drawable.icon_302;[m
[32m+[m[32m            case "303":[m
[32m+[m[32m                return R.drawable.icon_303;[m
[32m+[m[32m            case "304":[m
[32m+[m[32m                return R.drawable.icon_304;[m
[32m+[m[32m            case "305":[m
[32m+[m[32m                return R.drawable.icon_305;[m
[32m+[m[32m            case "306":[m
[32m+[m[32m                return R.drawable.icon_306;[m
[32m+[m[32m            case "307":[m
[32m+[m[32m                return R.drawable.icon_307;[m
[32m+[m[32m            case "309":[m
[32m+[m[32m                return R.drawable.icon_309;[m
[32m+[m[32m            case "310":[m
[32m+[m[32m                return R.drawable.icon_310;[m
[32m+[m[32m            case "311":[m
[32m+[m[32m                return R.drawable.icon_311;[m
[32m+[m[32m            case "312":[m
[32m+[m[32m                return R.drawable.icon_312;[m
[32m+[m[32m            case "313":[m
[32m+[m[32m                return R.drawable.icon_313;[m
[32m+[m[32m            case "400":[m
[32m+[m[32m                return R.drawable.icon_400;[m
[32m+[m[32m            case "401":[m
[32m+[m[32m                return R.drawable.icon_401;[m
[32m+[m[32m            case "402":[m
[32m+[m[32m                return  R.drawable.icon_402;[m
[32m+[m[32m            case "403":[m
[32m+[m[32m                return  R.drawable.icon_403;[m
[32m+[m[32m            case "404":[m
[32m+[m[32m                return  R.drawable.icon_404;[m
[32m+[m[32m            case "405":[m
[32m+[m[32m                return  R.drawable.icon_405;[m
[32m+[m[32m            case "406":[m
[32m+[m[32m                return  R.drawable.icon_406;[m
[32m+[m[32m            case "406n":[m
[32m+[m[32m                return  R.drawable.icon_406n;[m
[32m+[m[32m            case "407":[m
[32m+[m[32m                return  R.drawable.icon_407;[m
[32m+[m[32m            case "407n":[m
[32m+[m[32m                return  R.drawable.icon_407n;[m
[32m+[m[32m            case "500":[m
[32m+[m[32m                return  R.drawable.icon_500;[m
[32m+[m[32m            case "501":[m
[32m+[m[32m                return  R.drawable.icon_501;[m
[32m+[m[32m            case "502":[m
[32m+[m[32m                return  R.drawable.icon_502;[m
[32m+[m[32m            case "503":[m
[32m+[m[32m                return  R.drawable.icon_503;[m
[32m+[m[32m            case "504":[m
[32m+[m[32m                return  R.drawable.icon_504;[m
[32m+[m[32m            case "507":[m
[32m+[m[32m                return  R.drawable.icon_507;[m
[32m+[m[32m            case "508":[m
[32m+[m[32m                return  R.drawable.icon_508;[m
[32m+[m[32m            case "900":[m
[32m+[m[32m                return  R.drawable.icon_900;[m
[32m+[m[32m            case "901":[m
[32m+[m[32m                return  R.drawable.icon_901;[m
[32m+[m[32m            default:[m
[32m+[m[32m                return R.drawable.icon_999;[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/com/coolweather/android/utils/SignatureUtil.java b/app/src/main/java/com/coolweather/android/utils/SignatureUtil.java[m
[1mnew file mode 100644[m
[1mindex 0000000..97a2622[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/coolweather/android/utils/SignatureUtil.java[m
[36m@@ -0,0 +1,52 @@[m
[32m+[m[32mpackage com.coolweather.android.utils;[m
[32m+[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.security.GeneralSecurityException;[m
[32m+[m[32mimport java.security.MessageDigest;[m
[32m+[m[32mimport java.util.HashMap;[m
[32m+[m[32mimport java.util.Map;[m
[32m+[m[32mimport java.util.Set;[m
[32m+[m[32mimport java.util.TreeMap;[m
[32m+[m
[32m+[m[32mimport sun.misc.BASE64Encoder;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by Administrator on 2018/3/3 0003.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mpublic class SignatureUtil {[m
[32m+[m[32m//    /**[m
[32m+[m[32m//     * 和风天气签名生成算法-JAVA版本[m
[32m+[m[32m//     * @param HashMap<String,String> params 请求参数集，所有参数必须已转换为字符串类型[m
[32m+[m[32m//     * @param String secret 签名密钥（用户的认证key）[m
[32m+[m[32m//     * @return 签名[m
[32m+[m[32m//     * @throws IOException[m
[32m+[m[32m//     */[m
[32m+[m[32m    public static String getSignature(HashMap<String,String> params, String secret) throws IOException {[m
[32m+[m[32m        // 先将参数以其参数名的字典序升序进行排序[m
[32m+[m[32m        Map<String, String> sortedParams = new TreeMap<>(params);[m
[32m+[m[32m        Set<Map.Entry<String, String>> entrys = sortedParams.entrySet();[m
[32m+[m
[32m+[m[32m        // 遍历排序后的字典，将所有参数按"key=value"格式拼接在一起[m
[32m+[m
[32m+[m[32m        StringBuilder baseString = new StringBuilder();[m
[32m+[m[32m        for (Map.Entry<String, String> param : entrys) {[m
[32m+[m[32m            //sign参数 和 空值参数 不加入算法[m
[32m+[m[32m            if(param.getValue()!=null && !"".equals(param.getKey().trim()) && !"sign".equals(param.getKey().trim()) && !"key".equals(param.getKey().trim()) && !"".equals(param.getValue().trim())) {[m
[32m+[m[32m                baseString.append(param.getKey().trim()).append("=").append(param.getValue().trim()).append("&");[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m[32m        if(baseString.length() > 0 ) {[m
[32m+[m[32m            baseString.deleteCharAt(baseString.length() - 1).append(secret);[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        // 使用MD5对待签名串求签[m
[32m+[m[32m        try {[m
[32m+[m[32m            MessageDigest md5 = MessageDigest.getInstance("MD5");[m
[32m+[m[32m            byte[] bytes = md5.digest(baseString.toString().getBytes("UTF-8"));[m
[32m+[m[32m            return new BASE64Encoder().encode(bytes);[m
[32m+[m[32m        } catch (GeneralSecurityException ex) {[m
[32m+[m[32m            throw new IOException(ex);[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/com/coolweather/android/utils/ToastUtil.java b/app/src/main/java/com/coolweather/android/utils/ToastUtil.java[m
[1mnew file mode 100644[m
[1mindex 0000000..be97fa0[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/com/coolweather/android/utils/ToastUtil.java[m
[36m@@ -0,0 +1,22 @@[m
[32m+[m[32mpackage com.coolweather.android.utils;[m
[32m+[m
[32m+[m[32mimport android.content.Context;[m
[32m+[m[32mimport android.widget.Toast;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by Administrator on 2018/3/3 0003.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mpublic class ToastUtil {[m
[32m+[m[32m    private static Toast toast;[m
[32m+[m
[32m+[m[32m    public static void showToast(Context context, String content, int duration) {[m
[32m+[m[32m        // 避免多次点击生成多个Toast对象导致频繁弹出Toast提示框[m
[32m+[m[32m        if (toast == null) {[m
[32m+[m[32m            toast = Toast.makeText(context, content, duration);[m
[32m+[m[32m        } else {[m
[32m+[m[32m            toast.setText(content);[m
[32m+[m[32m        }[m
[32m+[m[32m        toast.show();[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/res/drawable-nodpi/bg.jpg b/app/src/main/res/drawable-nodpi/bg.jpg[m
[1mnew file mode 100644[m
[1mindex 0000000..31b5ede[m
Binary files /dev/null and b/app/src/main/res/drawable-nodpi/bg.jpg differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/daily_deatil_sun.png b/app/src/main/res/drawable-xxhdpi/daily_deatil_sun.png[m
[1mnew file mode 100644[m
[1mindex 0000000..f4adb59[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/daily_deatil_sun.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/daily_deatil_sun_up.png b/app/src/main/res/drawable-xxhdpi/daily_deatil_sun_up.png[m
[1mnew file mode 100644[m
[1mindex 0000000..34a632f[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/daily_deatil_sun_up.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_100.png b/app/src/main/res/drawable-xxhdpi/icon_100.png[m
[1mnew file mode 100644[m
[1mindex 0000000..b04eb3b[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_100.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_100n.png b/app/src/main/res/drawable-xxhdpi/icon_100n.png[m
[1mnew file mode 100644[m
[1mindex 0000000..fe04e71[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_100n.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_101.png b/app/src/main/res/drawable-xxhdpi/icon_101.png[m
[1mnew file mode 100644[m
[1mindex 0000000..c667e03[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_101.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_102.png b/app/src/main/res/drawable-xxhdpi/icon_102.png[m
[1mnew file mode 100644[m
[1mindex 0000000..e9a87c1[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_102.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_103.png b/app/src/main/res/drawable-xxhdpi/icon_103.png[m
[1mnew file mode 100644[m
[1mindex 0000000..1b96205[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_103.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_103n.png b/app/src/main/res/drawable-xxhdpi/icon_103n.png[m
[1mnew file mode 100644[m
[1mindex 0000000..18aac67[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_103n.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_104.png b/app/src/main/res/drawable-xxhdpi/icon_104.png[m
[1mnew file mode 100644[m
[1mindex 0000000..630d7f9[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_104.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_104n.png b/app/src/main/res/drawable-xxhdpi/icon_104n.png[m
[1mnew file mode 100644[m
[1mindex 0000000..101ccaa[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_104n.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_200.png b/app/src/main/res/drawable-xxhdpi/icon_200.png[m
[1mnew file mode 100644[m
[1mindex 0000000..f6d2692[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_200.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_201.png b/app/src/main/res/drawable-xxhdpi/icon_201.png[m
[1mnew file mode 100644[m
[1mindex 0000000..5406010[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_201.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_202.png b/app/src/main/res/drawable-xxhdpi/icon_202.png[m
[1mnew file mode 100644[m
[1mindex 0000000..8bcf9b3[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_202.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_203.png b/app/src/main/res/drawable-xxhdpi/icon_203.png[m
[1mnew file mode 100644[m
[1mindex 0000000..8bcf9b3[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_203.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_204.png b/app/src/main/res/drawable-xxhdpi/icon_204.png[m
[1mnew file mode 100644[m
[1mindex 0000000..8bcf9b3[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_204.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_205.png b/app/src/main/res/drawable-xxhdpi/icon_205.png[m
[1mnew file mode 100644[m
[1mindex 0000000..b9a4676[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_205.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_206.png b/app/src/main/res/drawable-xxhdpi/icon_206.png[m
[1mnew file mode 100644[m
[1mindex 0000000..b9a4676[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_206.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_207.png b/app/src/main/res/drawable-xxhdpi/icon_207.png[m
[1mnew file mode 100644[m
[1mindex 0000000..b9a4676[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_207.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_208.png b/app/src/main/res/drawable-xxhdpi/icon_208.png[m
[1mnew file mode 100644[m
[1mindex 0000000..8ad9956[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_208.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_209.png b/app/src/main/res/drawable-xxhdpi/icon_209.png[m
[1mnew file mode 100644[m
[1mindex 0000000..8ad9956[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_209.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_210.png b/app/src/main/res/drawable-xxhdpi/icon_210.png[m
[1mnew file mode 100644[m
[1mindex 0000000..8ad9956[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_210.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_211.png b/app/src/main/res/drawable-xxhdpi/icon_211.png[m
[1mnew file mode 100644[m
[1mindex 0000000..8ad9956[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_211.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_212.png b/app/src/main/res/drawable-xxhdpi/icon_212.png[m
[1mnew file mode 100644[m
[1mindex 0000000..8ad9956[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_212.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_213.png b/app/src/main/res/drawable-xxhdpi/icon_213.png[m
[1mnew file mode 100644[m
[1mindex 0000000..8ad9956[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_213.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_300.png b/app/src/main/res/drawable-xxhdpi/icon_300.png[m
[1mnew file mode 100644[m
[1mindex 0000000..348d5ae[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_300.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_300n.png b/app/src/main/res/drawable-xxhdpi/icon_300n.png[m
[1mnew file mode 100644[m
[1mindex 0000000..ef6f113[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_300n.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_301.png b/app/src/main/res/drawable-xxhdpi/icon_301.png[m
[1mnew file mode 100644[m
[1mindex 0000000..a9215ad[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_301.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_301n.png b/app/src/main/res/drawable-xxhdpi/icon_301n.png[m
[1mnew file mode 100644[m
[1mindex 0000000..94fdea6[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_301n.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_302.png b/app/src/main/res/drawable-xxhdpi/icon_302.png[m
[1mnew file mode 100644[m
[1mindex 0000000..8eb1eb5[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_302.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_303.png b/app/src/main/res/drawable-xxhdpi/icon_303.png[m
[1mnew file mode 100644[m
[1mindex 0000000..991951e[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_303.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_304.png b/app/src/main/res/drawable-xxhdpi/icon_304.png[m
[1mnew file mode 100644[m
[1mindex 0000000..8332fab[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_304.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_305.png b/app/src/main/res/drawable-xxhdpi/icon_305.png[m
[1mnew file mode 100644[m
[1mindex 0000000..495f30f[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_305.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_306.png b/app/src/main/res/drawable-xxhdpi/icon_306.png[m
[1mnew file mode 100644[m
[1mindex 0000000..3811434[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_306.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_307.png b/app/src/main/res/drawable-xxhdpi/icon_307.png[m
[1mnew file mode 100644[m
[1mindex 0000000..4782c16[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_307.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_309.png b/app/src/main/res/drawable-xxhdpi/icon_309.png[m
[1mnew file mode 100644[m
[1mindex 0000000..f676a10[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_309.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_310.png b/app/src/main/res/drawable-xxhdpi/icon_310.png[m
[1mnew file mode 100644[m
[1mindex 0000000..4440f53[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_310.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_311.png b/app/src/main/res/drawable-xxhdpi/icon_311.png[m
[1mnew file mode 100644[m
[1mindex 0000000..888cedd[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_311.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_312.png b/app/src/main/res/drawable-xxhdpi/icon_312.png[m
[1mnew file mode 100644[m
[1mindex 0000000..3216b6f[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_312.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_313.png b/app/src/main/res/drawable-xxhdpi/icon_313.png[m
[1mnew file mode 100644[m
[1mindex 0000000..ef2f784[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_313.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_400.png b/app/src/main/res/drawable-xxhdpi/icon_400.png[m
[1mnew file mode 100644[m
[1mindex 0000000..b2d5b12[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_400.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_401.png b/app/src/main/res/drawable-xxhdpi/icon_401.png[m
[1mnew file mode 100644[m
[1mindex 0000000..ab4ef33[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_401.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_402.png b/app/src/main/res/drawable-xxhdpi/icon_402.png[m
[1mnew file mode 100644[m
[1mindex 0000000..132670c[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_402.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_403.png b/app/src/main/res/drawable-xxhdpi/icon_403.png[m
[1mnew file mode 100644[m
[1mindex 0000000..b67215d[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_403.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_404.png b/app/src/main/res/drawable-xxhdpi/icon_404.png[m
[1mnew file mode 100644[m
[1mindex 0000000..794987d[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_404.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_405.png b/app/src/main/res/drawable-xxhdpi/icon_405.png[m
[1mnew file mode 100644[m
[1mindex 0000000..95a94ef[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_405.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_406.png b/app/src/main/res/drawable-xxhdpi/icon_406.png[m
[1mnew file mode 100644[m
[1mindex 0000000..a7f3347[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_406.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_406n.png b/app/src/main/res/drawable-xxhdpi/icon_406n.png[m
[1mnew file mode 100644[m
[1mindex 0000000..40605e5[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_406n.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_407.png b/app/src/main/res/drawable-xxhdpi/icon_407.png[m
[1mnew file mode 100644[m
[1mindex 0000000..43ac64e[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_407.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_407n.png b/app/src/main/res/drawable-xxhdpi/icon_407n.png[m
[1mnew file mode 100644[m
[1mindex 0000000..b3e1ba3[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_407n.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_500.png b/app/src/main/res/drawable-xxhdpi/icon_500.png[m
[1mnew file mode 100644[m
[1mindex 0000000..4fa7619[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_500.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_501.png b/app/src/main/res/drawable-xxhdpi/icon_501.png[m
[1mnew file mode 100644[m
[1mindex 0000000..c815ae1[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_501.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_502.png b/app/src/main/res/drawable-xxhdpi/icon_502.png[m
[1mnew file mode 100644[m
[1mindex 0000000..fa4be22[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_502.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_503.png b/app/src/main/res/drawable-xxhdpi/icon_503.png[m
[1mnew file mode 100644[m
[1mindex 0000000..f3261d6[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_503.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_504.png b/app/src/main/res/drawable-xxhdpi/icon_504.png[m
[1mnew file mode 100644[m
[1mindex 0000000..1cd6232[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_504.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_507.png b/app/src/main/res/drawable-xxhdpi/icon_507.png[m
[1mnew file mode 100644[m
[1mindex 0000000..84a6cc2[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_507.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_508.png b/app/src/main/res/drawable-xxhdpi/icon_508.png[m
[1mnew file mode 100644[m
[1mindex 0000000..1f2a099[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_508.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_900.png b/app/src/main/res/drawable-xxhdpi/icon_900.png[m
[1mnew file mode 100644[m
[1mindex 0000000..4f93d63[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_900.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_901.png b/app/src/main/res/drawable-xxhdpi/icon_901.png[m
[1mnew file mode 100644[m
[1mindex 0000000..4151057[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_901.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_999.png b/app/src/main/res/drawable-xxhdpi/icon_999.png[m
[1mnew file mode 100644[m
[1mindex 0000000..0a27f9a[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_999.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_air.png b/app/src/main/res/drawable-xxhdpi/icon_air.png[m
[1mnew file mode 100644[m
[1mindex 0000000..76ddd99[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_air.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_back.png b/app/src/main/res/drawable-xxhdpi/icon_back.png[m
[1mnew file mode 100644[m
[1mindex 0000000..0ca29bc[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_back.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_car.png b/app/src/main/res/drawable-xxhdpi/icon_car.png[m
[1mnew file mode 100644[m
[1mindex 0000000..c5da482[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_car.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_clothes.png b/app/src/main/res/drawable-xxhdpi/icon_clothes.png[m
[1mnew file mode 100644[m
[1mindex 0000000..3668781[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_clothes.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_comfort.png b/app/src/main/res/drawable-xxhdpi/icon_comfort.png[m
[1mnew file mode 100644[m
[1mindex 0000000..bb6843f[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_comfort.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_flu.png b/app/src/main/res/drawable-xxhdpi/icon_flu.png[m
[1mnew file mode 100644[m
[1mindex 0000000..23997ad[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_flu.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_humidity.png b/app/src/main/res/drawable-xxhdpi/icon_humidity.png[m
[1mnew file mode 100644[m
[1mindex 0000000..4552220[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_humidity.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_moon.png b/app/src/main/res/drawable-xxhdpi/icon_moon.png[m
[1mnew file mode 100644[m
[1mindex 0000000..75f2f0c[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_moon.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_press.png b/app/src/main/res/drawable-xxhdpi/icon_press.png[m
[1mnew file mode 100644[m
[1mindex 0000000..9dfad74[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_press.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_sports.png b/app/src/main/res/drawable-xxhdpi/icon_sports.png[m
[1mnew file mode 100644[m
[1mindex 0000000..00e1cdc[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_sports.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_switch.png b/app/src/main/res/drawable-xxhdpi/icon_switch.png[m
[1mnew file mode 100644[m
[1mindex 0000000..5f7bc37[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_switch.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_time.png b/app/src/main/res/drawable-xxhdpi/icon_time.png[m
[1mnew file mode 100644[m
[1mindex 0000000..b1bc267[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_time.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_tmp.png b/app/src/main/res/drawable-xxhdpi/icon_tmp.png[m
[1mnew file mode 100644[m
[1mindex 0000000..e75d4bd[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_tmp.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_travel.png b/app/src/main/res/drawable-xxhdpi/icon_travel.png[m
[1mnew file mode 100644[m
[1mindex 0000000..32359b2[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_travel.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_uv.png b/app/src/main/res/drawable-xxhdpi/icon_uv.png[m
[1mnew file mode 100644[m
[1mindex 0000000..b7e0959[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_uv.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_wind_dir.png b/app/src/main/res/drawable-xxhdpi/icon_wind_dir.png[m
[1mnew file mode 100644[m
[1mindex 0000000..615fbaf[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_wind_dir.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_wind_sc.png b/app/src/main/res/drawable-xxhdpi/icon_wind_sc.png[m
[1mnew file mode 100644[m
[1mindex 0000000..c3a379b[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_wind_sc.png differ
[1mdiff --git a/app/src/main/res/drawable-xxhdpi/icon_wind_spd.png b/app/src/main/res/drawable-xxhdpi/icon_wind_spd.png[m
[1mnew file mode 100644[m
[1mindex 0000000..a8e048d[m
Binary files /dev/null and b/app/src/main/res/drawable-xxhdpi/icon_wind_spd.png differ
[1mdiff --git a/app/src/main/res/layout/activity_main.xml b/app/src/main/res/layout/activity_main.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..f70d2ed[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/activity_main.xml[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<FrameLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="match_parent">[m
[32m+[m
[32m+[m[32m    <!--引入显示全国省市县的碎片-->[m
[32m+[m[32m    <fragment[m
[32m+[m[32m        android:id="@+id/choose_area_fragment"[m
[32m+[m[32m        android:name="com.coolweather.android.View.ChooseAreaFragment"[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="match_parent" />[m
[32m+[m
[32m+[m[32m</FrameLayout>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/layout/activity_show_lifestyle.xml b/app/src/main/res/layout/activity_show_lifestyle.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..2a3c282[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/activity_show_lifestyle.xml[m
[36m@@ -0,0 +1,25 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<LinearLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:app="http://schemas.android.com/apk/res-auto"[m
[32m+[m[32m    xmlns:tools="http://schemas.android.com/tools"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="match_parent"[m
[32m+[m[32m    tools:context="com.coolweather.android.View.ShowLifestyleActivity">[m
[32m+[m
[32m+[m
[32m+[m[32m    <!--用于在设备屏幕上展示和风天气接口返回的天气JOSN数据，主要是因为不知道为什么控制台显示的JSON数据不全，[m
[32m+[m[32m    大概是因为控制台一行只能显示这么多吧，所以我换了方式，显示到屏幕上，再复制粘贴发送到电脑QQ上，[m
[32m+[m[32m    使用FormatGSON生成JavaBean-->[m
[32m+[m[32m    <ScrollView[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="match_parent">[m
[32m+[m[32m        <EditText[m
[32m+[m[32m            android:id="@+id/response_text"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:enabled="true"[m
[32m+[m[32m            android:background="@null"/>[m
[32m+[m[32m    </ScrollView>[m
[32m+[m
[32m+[m[32m</LinearLayout>[m
[1mdiff --git a/app/src/main/res/layout/activity_weather.xml b/app/src/main/res/layout/activity_weather.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..9fcbb77[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/activity_weather.xml[m
[36m@@ -0,0 +1,65 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<FrameLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="match_parent"[m
[32m+[m[32m    android:background="@color/colorPrimary">[m
[32m+[m
[32m+[m[32m    <ImageView[m
[32m+[m[32m        android:id="@+id/bing_pic_img"[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="match_parent"[m
[32m+[m[32m        android:scaleType="centerCrop"/>[m
[32m+[m
[32m+[m[32m    <android.support.v4.widget.DrawerLayout[m
[32m+[m[32m        android:id="@+id/drawer_layout"[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="match_parent">[m
[32m+[m
[32m+[m[32m        <android.support.v4.widget.SwipeRefreshLayout[m
[32m+[m[32m            android:id="@+id/swipe_refresh"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="match_parent">[m
[32m+[m
[32m+[m[32m            <ScrollView[m
[32m+[m[32m                android:id="@+id/weather_layout"[m
[32m+[m[32m                android:layout_width="match_parent"[m
[32m+[m[32m                android:layout_height="match_parent"[m
[32m+[m[32m                android:overScrollMode="never"[m
[32m+[m[32m                android:scrollbars="none">[m
[32m+[m
[32m+[m[32m                <LinearLayout[m
[32m+[m[32m                    android:layout_width="match_parent"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:fitsSystemWindows="true"[m
[32m+[m[32m                    android:orientation="vertical">[m
[32m+[m
[32m+[m[32m                    <include layout="@layout/title"/>[m
[32m+[m
[32m+[m[32m                    <include layout="@layout/now"/>[m
[32m+[m
[32m+[m[32m                    <include layout="@layout/hourly"/>[m
[32m+[m
[32m+[m[32m                    <include layout="@layout/sun_moon_animation"/>[m
[32m+[m
[32m+[m[32m                    <include layout="@layout/forecast"/>[m
[32m+[m
[32m+[m[32m                    <include layout="@layout/lifestyle"/>[m
[32m+[m
[32m+[m[32m                </LinearLayout>[m
[32m+[m
[32m+[m[32m            </ScrollView>[m
[32m+[m
[32m+[m[32m        </android.support.v4.widget.SwipeRefreshLayout>[m
[32m+[m
[32m+[m[32m        <fragment[m
[32m+[m[32m            android:id="@+id/choose_area_fragment"[m
[32m+[m[32m            android:name="com.coolweather.android.View.ChooseAreaFragment"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="match_parent"[m
[32m+[m[32m            android:layout_gravity="start"[m
[32m+[m[32m            />[m
[32m+[m
[32m+[m[32m    </android.support.v4.widget.DrawerLayout>[m
[32m+[m
[32m+[m[32m</FrameLayout>[m
[1mdiff --git a/app/src/main/res/layout/aqi.xml b/app/src/main/res/layout/aqi.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..6c4af5e[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/aqi.xml[m
[36m@@ -0,0 +1,89 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<LinearLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:orientation="vertical"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="wrap_content"[m
[32m+[m[32m    android:layout_margin="15dp"[m
[32m+[m[32m    android:background="#8000">[m
[32m+[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_marginLeft="15dp"[m
[32m+[m[32m        android:layout_marginTop="15dp"[m
[32m+[m[32m        android:text="空气质量"[m
[32m+[m[32m        android:textColor="#fff"[m
[32m+[m[32m        android:textSize="20sp"/>[m
[32m+[m
[32m+[m[32m    <LinearLayout[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_margin="15dp">[m
[32m+[m
[32m+[m[32m        <RelativeLayout[m
[32m+[m[32m            android:layout_width="0dp"[m
[32m+[m[32m            android:layout_height="match_parent"[m
[32m+[m[32m            android:layout_weight="1">[m
[32m+[m
[32m+[m[32m            <LinearLayout[m
[32m+[m[32m                android:orientation="vertical"[m
[32m+[m[32m                android:layout_width="match_parent"[m
[32m+[m[32m                android:layout_height="wrap_content"[m
[32m+[m[32m                android:layout_centerInParent="true">[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:id="@+id/aqi_text"[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:textColor="#fff"[m
[32m+[m[32m                    android:textSize="40sp"[m
[32m+[m[32m                    />[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:text="AQI指数"[m
[32m+[m[32m                    android:textColor="#fff"/>[m
[32m+[m
[32m+[m[32m            </LinearLayout>[m
[32m+[m
[32m+[m[32m        </RelativeLayout>[m
[32m+[m
[32m+[m[32m        <RelativeLayout[m
[32m+[m[32m            android:layout_width="0dp"[m
[32m+[m[32m            android:layout_height="match_parent"[m
[32m+[m[32m            android:layout_weight="1">[m
[32m+[m
[32m+[m[32m            <LinearLayout[m
[32m+[m[32m                android:orientation="vertical"[m
[32m+[m[32m                android:layout_width="match_parent"[m
[32m+[m[32m                android:layout_height="wrap_content"[m
[32m+[m[32m                android:layout_centerInParent="true">[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:id="@+id/pm25_text"[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:textColor="#fff"[m
[32m+[m[32m                    android:textSize="40sp"[m
[32m+[m[32m                    />[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:text="PM2.5指数"[m
[32m+[m[32m                    android:textColor="#fff"[m
[32m+[m[32m                    />[m
[32m+[m
[32m+[m[32m            </LinearLayout>[m
[32m+[m
[32m+[m[32m        </RelativeLayout>[m
[32m+[m
[32m+[m[32m    </LinearLayout>[m
[32m+[m
[32m+[m[32m</LinearLayout>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/layout/choose_area.xml b/app/src/main/res/layout/choose_area.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..f9ffe0c[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/choose_area.xml[m
[36m@@ -0,0 +1,38 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<LinearLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:orientation="vertical"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="match_parent"[m
[32m+[m[32m    android:background="#fff"[m
[32m+[m[32m    android:fitsSystemWindows="true">[m
[32m+[m
[32m+[m[32m    <RelativeLayout[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="?attr/actionBarSize"[m
[32m+[m[32m        android:background="?attr/colorPrimary">[m
[32m+[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:id="@+id/title_text"[m
[32m+[m[32m            android:layout_width="wrap_content"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_centerInParent="true"[m
[32m+[m[32m            android:textColor="#fff"[m
[32m+[m[32m            android:textSize="20sp"/>[m
[32m+[m
[32m+[m[32m        <Button[m
[32m+[m[32m            android:id="@+id/back_button"[m
[32m+[m[32m            android:layout_width="25dp"[m
[32m+[m[32m            android:layout_height="25dp"[m
[32m+[m[32m            android:layout_marginLeft="10dp"[m
[32m+[m[32m            android:layout_alignParentLeft="true"[m
[32m+[m[32m            android:layout_centerVertical="true"[m
[32m+[m[32m            android:background="@drawable/icon_back"/>[m
[32m+[m[32m    </RelativeLayout>[m
[32m+[m
[32m+[m[32m    <ListView[m
[32m+[m[32m        android:id="@+id/list_view"[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="match_parent"/>[m
[32m+[m
[32m+[m[32m</LinearLayout>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/layout/forecast.xml b/app/src/main/res/layout/forecast.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..5ae8ce0[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/forecast.xml[m
[36m@@ -0,0 +1,39 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<!--最外层CardView使用了一个半透明背景-->[m
[32m+[m[32m<android.support.v7.widget.CardView[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:app="http://schemas.android.com/apk/res-auto"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="wrap_content"[m
[32m+[m[32m    android:layout_margin="15dp"[m
[32m+[m[32m    app:cardBackgroundColor="#6000"[m
[32m+[m[32m    app:cardCornerRadius="5dp">[m
[32m+[m
[32m+[m[32m    <LinearLayout[m
[32m+[m[32m        xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_margin="15dp"[m
[32m+[m[32m        android:orientation="vertical">[m
[32m+[m
[32m+[m[32m        <!--标题-->[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:layout_width="wrap_content"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_marginLeft="15dp"[m
[32m+[m[32m            android:layout_marginTop="15dp"[m
[32m+[m[32m            android:text="七天预报"[m
[32m+[m[32m            android:textColor="#fff"[m
[32m+[m[32m            android:textSize="20sp"/>[m
[32m+[m
[32m+[m[32m        <!--显示未来几天天气的布局，不过这个布局中没有放入任何的内容，因为这是要更具服务器返回的数据在代码中动态添加的，[m
[32m+[m[32m        为此，还需要再定义一个未来几天天气信息的子项布局forecast_item.xml-->[m
[32m+[m[32m        <LinearLayout[m
[32m+[m[32m            android:id="@+id/forecast_layout"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:orientation="vertical">[m
[32m+[m[32m        </LinearLayout>[m
[32m+[m
[32m+[m[32m    </LinearLayout>[m
[32m+[m[32m</android.support.v7.widget.CardView>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/layout/forecast_item.xml b/app/src/main/res/layout/forecast_item.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..ecd26ea[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/forecast_item.xml[m
[36m@@ -0,0 +1,47 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<LinearLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:orientation="horizontal"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="wrap_content"[m
[32m+[m[32m    android:layout_margin="15dp">[m
[32m+[m
[32m+[m[32m    <!--显示天气预报日期-->[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/date_text"[m
[32m+[m[32m        android:layout_width="0dp"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_gravity="center_vertical"[m
[32m+[m[32m        android:layout_weight="2"[m
[32m+[m[32m        android:textColor="#fff"/>[m
[32m+[m
[32m+[m[32m    <!--显示天气概况-->[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/info_text"[m
[32m+[m[32m        android:layout_width="0dp"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_gravity="center_vertical"[m
[32m+[m[32m        android:layout_weight="1"[m
[32m+[m[32m        android:gravity="center"[m
[32m+[m[32m        android:textColor="#fff"/>[m
[32m+[m
[32m+[m[32m    <!--显示当前最高温度-->[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/max_text"[m
[32m+[m[32m        android:layout_width="0dp"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_gravity="center"[m
[32m+[m[32m        android:layout_weight="1"[m
[32m+[m[32m        android:gravity="right"[m
[32m+[m[32m        android:textColor="#fff"/>[m
[32m+[m
[32m+[m[32m    <!--显示当前最低温度-->[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/min_text"[m
[32m+[m[32m        android:layout_width="0dp"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_gravity="center"[m
[32m+[m[32m        android:layout_weight="1"[m
[32m+[m[32m        android:gravity="right"[m
[32m+[m[32m        android:textColor="#fff"/>[m
[32m+[m[32m</LinearLayout>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/layout/hourly.xml b/app/src/main/res/layout/hourly.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..241bc4c[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/hourly.xml[m
[36m@@ -0,0 +1,82 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m
[32m+[m[32m<HorizontalScrollView[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:app="http://schemas.android.com/apk/res-auto"[m
[32m+[m[32m    android:id="@+id/hourly_forcast_lauout"[m
[32m+[m[32m    android:layout_width="wrap_content"[m
[32m+[m[32m    android:layout_height="wrap_content"[m
[32m+[m[32m    android:scrollbars="none">[m
[32m+[m
[32m+[m[32m    <LinearLayout[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="wrap_content">[m
[32m+[m
[32m+[m[32m        <android.support.v7.widget.CardView[m
[32m+[m
[32m+[m[32m            android:layout_width="wrap_content"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_margin="15dp"[m
[32m+[m[32m            android:layout_weight="1"[m
[32m+[m[32m            app:cardBackgroundColor="#8000"[m
[32m+[m[32m            app:cardCornerRadius="5dp">[m
[32m+[m
[32m+[m[32m            <LinearLayout[m
[32m+[m[32m                android:layout_width="wrap_content"[m
[32m+[m[32m                android:layout_height="wrap_content"[m
[32m+[m[32m                android:orientation="vertical">[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:id="@+id/hourly_time_text"[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:layout_marginTop="3dp"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:text="短时预报"[m
[32m+[m[32m                    android:textColor="#fff"[m
[32m+[m[32m                    android:textSize="10sp"/>[m
[32m+[m
[32m+[m[32m                <ImageView[m
[32m+[m[32m                    android:id="@+id/hourly_weather_icon"[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:layout_marginTop="3dp"[m
[32m+[m[32m                    android:src="@drawable/icon_time"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:id="@+id/weather_condition_text"[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:layout_marginTop="3dp"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:text="天气情况"[m
[32m+[m[32m                    android:textColor="#fff"[m
[32m+[m[32m                    android:textSize="10sp"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:id="@+id/hourly_tmp_text"[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:layout_marginTop="3dp"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:text="温度"[m
[32m+[m[32m                    android:textColor="#fff"[m
[32m+[m[32m                    android:textSize="10sp"/>[m
[32m+[m
[32m+[m[32m            </LinearLayout>[m
[32m+[m[32m        </android.support.v7.widget.CardView>[m
[32m+[m
[32m+[m[32m        <LinearLayout[m
[32m+[m[32m            android:id="@+id/hourly_layout"[m
[32m+[m[32m            android:layout_width="wrap_content"[m
[32m+[m[32m            android:layout_height="wrap_content">[m
[32m+[m
[32m+[m[32m        </LinearLayout>[m
[32m+[m
[32m+[m[32m    </LinearLayout>[m
[32m+[m
[32m+[m[32m</HorizontalScrollView>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/layout/hourly_item.xml b/app/src/main/res/layout/hourly_item.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..fde250f[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/hourly_item.xml[m
[36m@@ -0,0 +1,60 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<android.support.v7.widget.CardView[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:app="http://schemas.android.com/apk/res-auto"[m
[32m+[m[32m    android:layout_width="wrap_content"[m
[32m+[m[32m    android:layout_height="wrap_content"[m
[32m+[m[32m    android:layout_margin="15dp"[m
[32m+[m[32m    android:layout_weight="1"[m
[32m+[m[32m    app:cardBackgroundColor="#8000"[m
[32m+[m[32m    app:cardCornerRadius="5dp">[m
[32m+[m
[32m+[m[32m    <LinearLayout[m
[32m+[m[32m        android:id="@+id/hourly_item_layout"[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="match_parent"[m
[32m+[m[32m        android:orientation="vertical">[m
[32m+[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:id="@+id/hourly_time_text"[m
[32m+[m[32m            android:layout_width="wrap_content"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_gravity="center"[m
[32m+[m[32m            android:layout_marginTop="3dp"[m
[32m+[m[32m            android:gravity="center"[m
[32m+[m[32m            android:text="12:00"[m
[32m+[m[32m            android:textColor="#fff"[m
[32m+[m[32m            android:textSize="10sp"/>[m
[32m+[m
[32m+[m[32m        <ImageView[m
[32m+[m[32m            android:id="@+id/hourly_weather_icon"[m
[32m+[m[32m            android:layout_width="wrap_content"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_gravity="center"[m
[32m+[m[32m            android:layout_marginTop="3dp"[m
[32m+[m[32m            android:src="@drawable/icon_103"/>[m
[32m+[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:id="@+id/weather_condition_text"[m
[32m+[m[32m            android:layout_width="wrap_content"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_gravity="center"[m
[32m+[m[32m            android:layout_marginTop="3dp"[m
[32m+[m[32m            android:gravity="center"[m
[32m+[m[32m            android:text="少云"[m
[32m+[m[32m            android:textColor="#fff"[m
[32m+[m[32m            android:textSize="10sp"/>[m
[32m+[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:id="@+id/hourly_tmp_text"[m
[32m+[m[32m            android:layout_width="wrap_content"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_gravity="center"[m
[32m+[m[32m            android:layout_marginTop="3dp"[m
[32m+[m[32m            android:gravity="center"[m
[32m+[m[32m            android:text="16"[m
[32m+[m[32m            android:textColor="#fff"[m
[32m+[m[32m            android:textSize="10sp"/>[m
[32m+[m
[32m+[m[32m    </LinearLayout>[m
[32m+[m[32m</android.support.v7.widget.CardView>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/layout/lifestyle.xml b/app/src/main/res/layout/lifestyle.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..b341980[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/lifestyle.xml[m
[36m@@ -0,0 +1,368 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<LinearLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:app="http://schemas.android.com/apk/res-auto"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="match_parent"[m
[32m+[m[32m    android:layout_margin="15dp"[m
[32m+[m[32m    android:orientation="vertical">[m
[32m+[m
[32m+[m
[32m+[m[32m    <LinearLayout[m
[32m+[m[32m        xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:orientation="horizontal">[m
[32m+[m
[32m+[m[32m        <android.support.v7.widget.CardView[m
[32m+[m[32m            android:layout_width="0dp"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_margin="2dp"[m
[32m+[m[32m            android:layout_weight="1"[m
[32m+[m[32m            app:cardBackgroundColor="#8000"[m
[32m+[m[32m            app:cardCornerRadius="5dp">[m
[32m+[m
[32m+[m[32m            <LinearLayout[m
[32m+[m[32m                android:id="@+id/clothes_layout"[m
[32m+[m[32m                android:layout_width="match_parent"[m
[32m+[m[32m                android:layout_height="match_parent"[m
[32m+[m[32m                android:orientation="vertical">[m
[32m+[m
[32m+[m[32m                <ImageView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:layout_marginTop="5dp"[m
[32m+[m[32m                    android:src="@drawable/icon_clothes"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:text="穿衣指数"[m
[32m+[m[32m                    android:textColor="#fff"[m
[32m+[m[32m                    android:textSize="15sp"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:id="@+id/clothes_text"[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:textColor="#b0e0e6"[m
[32m+[m[32m                    android:textSize="13sp"/>[m
[32m+[m
[32m+[m[32m            </LinearLayout>[m
[32m+[m[32m        </android.support.v7.widget.CardView>[m
[32m+[m
[32m+[m[32m        <android.support.v7.widget.CardView[m
[32m+[m[32m            android:layout_width="0dp"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_margin="2dp"[m
[32m+[m[32m            android:layout_weight="1"[m
[32m+[m[32m            app:cardBackgroundColor="#8000"[m
[32m+[m[32m            app:cardCornerRadius="5dp">[m
[32m+[m
[32m+[m[32m            <LinearLayout[m
[32m+[m[32m                android:id="@+id/air_layout"[m
[32m+[m[32m                android:layout_width="match_parent"[m
[32m+[m[32m                android:layout_height="match_parent"[m
[32m+[m[32m                android:orientation="vertical">[m
[32m+[m
[32m+[m[32m                <ImageView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:layout_marginTop="5dp"[m
[32m+[m[32m                    android:src="@drawable/icon_air"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:text="空气质量"[m
[32m+[m[32m                    android:textColor="#fff"[m
[32m+[m[32m                    android:textSize="15sp"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:id="@+id/air_text"[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:textColor="#b0e0e6"[m
[32m+[m[32m                    android:textSize="13sp"/>[m
[32m+[m
[32m+[m[32m            </LinearLayout>[m
[32m+[m[32m        </android.support.v7.widget.CardView>[m
[32m+[m
[32m+[m[32m        <android.support.v7.widget.CardView[m
[32m+[m[32m            android:layout_width="0dp"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_margin="2dp"[m
[32m+[m[32m            android:layout_weight="1"[m
[32m+[m[32m            app:cardBackgroundColor="#8000"[m
[32m+[m[32m            app:cardCornerRadius="5dp">[m
[32m+[m
[32m+[m[32m            <LinearLayout[m
[32m+[m[32m                android:id="@+id/uv_layout"[m
[32m+[m[32m                android:layout_width="match_parent"[m
[32m+[m[32m                android:layout_height="match_parent"[m
[32m+[m[32m                android:orientation="vertical">[m
[32m+[m
[32m+[m[32m                <ImageView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:layout_marginTop="5dp"[m
[32m+[m[32m                    android:src="@drawable/icon_uv"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:text="紫外线"[m
[32m+[m[32m                    android:textColor="#fff"[m
[32m+[m[32m                    android:textSize="15sp"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:id="@+id/uv_text"[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:textColor="#b0e0e6"[m
[32m+[m[32m                    android:textSize="13sp"/>[m
[32m+[m
[32m+[m[32m            </LinearLayout>[m
[32m+[m[32m        </android.support.v7.widget.CardView>[m
[32m+[m
[32m+[m[32m        <android.support.v7.widget.CardView[m
[32m+[m[32m            android:layout_width="0dp"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_margin="2dp"[m
[32m+[m[32m            android:layout_weight="1"[m
[32m+[m[32m            app:cardBackgroundColor="#8000"[m
[32m+[m[32m            app:cardCornerRadius="5dp">[m
[32m+[m
[32m+[m[32m            <LinearLayout[m
[32m+[m[32m                android:id="@+id/sports_layout"[m
[32m+[m[32m                android:layout_width="match_parent"[m
[32m+[m[32m                android:layout_height="match_parent"[m
[32m+[m[32m                android:orientation="vertical">[m
[32m+[m
[32m+[m[32m                <ImageView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:layout_marginTop="5dp"[m
[32m+[m[32m                    android:src="@drawable/icon_sports"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:text="运动指数"[m
[32m+[m[32m                    android:textColor="#fff"[m
[32m+[m[32m                    android:textSize="15sp"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:id="@+id/sports_text"[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:textColor="#b0e0e6"[m
[32m+[m[32m                    android:textSize="13sp"/>[m
[32m+[m
[32m+[m[32m            </LinearLayout>[m
[32m+[m[32m        </android.support.v7.widget.CardView>[m
[32m+[m
[32m+[m[32m    </LinearLayout>[m
[32m+[m
[32m+[m
[32m+[m[32m    <LinearLayout[m
[32m+[m[32m        xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:orientation="horizontal">[m
[32m+[m
[32m+[m[32m        <android.support.v7.widget.CardView[m
[32m+[m[32m            android:layout_width="0dp"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_margin="2dp"[m
[32m+[m[32m            android:layout_weight="1"[m
[32m+[m[32m            app:cardBackgroundColor="#8000"[m
[32m+[m[32m            app:cardCornerRadius="5dp">[m
[32m+[m
[32m+[m[32m            <LinearLayout[m
[32m+[m[32m                android:id="@+id/car_wash_layout"[m
[32m+[m[32m                android:layout_width="match_parent"[m
[32m+[m[32m                android:layout_height="match_parent"[m
[32m+[m[32m                android:orientation="vertical">[m
[32m+[m
[32m+[m[32m                <ImageView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:layout_marginTop="5dp"[m
[32m+[m[32m                    android:src="@drawable/icon_car"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:text="洗车指数"[m
[32m+[m[32m                    android:textColor="#fff"[m
[32m+[m[32m                    android:textSize="15sp"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:id="@+id/car_wash_text"[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:textColor="#b0e0e6"[m
[32m+[m[32m                    android:textSize="13sp"/>[m
[32m+[m
[32m+[m[32m            </LinearLayout>[m
[32m+[m[32m        </android.support.v7.widget.CardView>[m
[32m+[m
[32m+[m[32m        <android.support.v7.widget.CardView[m
[32m+[m[32m            android:layout_width="0dp"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_margin="2dp"[m
[32m+[m[32m            android:layout_weight="1"[m
[32m+[m[32m            app:cardBackgroundColor="#8000"[m
[32m+[m[32m            app:cardCornerRadius="5dp">[m
[32m+[m
[32m+[m[32m            <LinearLayout[m
[32m+[m[32m                android:id="@+id/flu_layout"[m
[32m+[m[32m                android:layout_width="match_parent"[m
[32m+[m[32m                android:layout_height="match_parent"[m
[32m+[m[32m                android:orientation="vertical">[m
[32m+[m
[32m+[m[32m                <ImageView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:layout_marginTop="5dp"[m
[32m+[m[32m                    android:src="@drawable/icon_flu"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:text="流感指数"[m
[32m+[m[32m                    android:textColor="#fff"[m
[32m+[m[32m                    android:textSize="15sp"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:id="@+id/flu_text"[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:textColor="#b0e0e6"[m
[32m+[m[32m                    android:textSize="13sp"/>[m
[32m+[m
[32m+[m[32m            </LinearLayout>[m
[32m+[m[32m        </android.support.v7.widget.CardView>[m
[32m+[m
[32m+[m[32m        <android.support.v7.widget.CardView[m
[32m+[m[32m            android:layout_width="0dp"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_margin="2dp"[m
[32m+[m[32m            android:layout_weight="1"[m
[32m+[m[32m            app:cardBackgroundColor="#8000"[m
[32m+[m[32m            app:cardCornerRadius="5dp">[m
[32m+[m
[32m+[m[32m            <LinearLayout[m
[32m+[m[32m                android:id="@+id/comf_layout"[m
[32m+[m[32m                android:layout_width="match_parent"[m
[32m+[m[32m                android:layout_height="match_parent"[m
[32m+[m[32m                android:orientation="vertical">[m
[32m+[m
[32m+[m[32m                <ImageView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:layout_marginTop="5dp"[m
[32m+[m[32m                    android:src="@drawable/icon_comfort"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:text="舒适度"[m
[32m+[m[32m                    android:textColor="#fff"[m
[32m+[m[32m                    android:textSize="15sp"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:id="@+id/comfort_text"[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:textColor="#b0e0e6"[m
[32m+[m[32m                    android:textSize="13sp"/>[m
[32m+[m
[32m+[m[32m            </LinearLayout>[m
[32m+[m
[32m+[m
[32m+[m[32m        </android.support.v7.widget.CardView>[m
[32m+[m
[32m+[m
[32m+[m[32m        <android.support.v7.widget.CardView[m
[32m+[m[32m            android:layout_width="0dp"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_margin="2dp"[m
[32m+[m[32m            android:layout_weight="1"[m
[32m+[m[32m            app:cardBackgroundColor="#8000"[m
[32m+[m[32m            app:cardCornerRadius="5dp">[m
[32m+[m
[32m+[m[32m            <LinearLayout[m
[32m+[m[32m                android:id="@+id/travel_layout"[m
[32m+[m[32m                android:layout_width="match_parent"[m
[32m+[m[32m                android:layout_height="match_parent"[m
[32m+[m[32m                android:orientation="vertical">[m
[32m+[m
[32m+[m[32m                <ImageView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:layout_marginTop="5dp"[m
[32m+[m[32m                    android:src="@drawable/icon_travel"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:text="旅行指数"[m
[32m+[m[32m                    android:textColor="#fff"[m
[32m+[m[32m                    android:textSize="15sp"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:id="@+id/travel_text"[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:textColor="#b0e0e6"[m
[32m+[m[32m                    android:textSize="13sp"/>[m
[32m+[m
[32m+[m[32m            </LinearLayout>[m
[32m+[m[32m        </android.support.v7.widget.CardView>[m
[32m+[m
[32m+[m
[32m+[m[32m    </LinearLayout>[m
[32m+[m
[32m+[m[32m</LinearLayout>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/layout/now.xml b/app/src/main/res/layout/now.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..7f8454b[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/now.xml[m
[36m@@ -0,0 +1,123 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<LinearLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="wrap_content"[m
[32m+[m[32m    android:layout_margin="15dp"[m
[32m+[m[32m    android:orientation="horizontal">[m
[32m+[m
[32m+[m[32m    <LinearLayout[m
[32m+[m[32m        android:layout_width="0dp"[m
[32m+[m[32m        android:layout_height="150dp"[m
[32m+[m[32m        android:layout_weight="1"[m
[32m+[m[32m        android:orientation="vertical">[m
[32m+[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:id="@+id/wind_sc_text"[m
[32m+[m[32m            android:textColor="#fff"[m
[32m+[m[32m            android:layout_margin="6dp"[m
[32m+[m[32m            android:textSize="12sp"[m
[32m+[m[32m            android:layout_width="wrap_content"[m
[32m+[m[32m            android:layout_height="wrap_content"/>[m
[32m+[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:id="@+id/wind_dir_text"[m
[32m+[m[32m            android:textColor="#fff"[m
[32m+[m[32m            android:layout_margin="6dp"[m
[32m+[m[32m            android:textSize="12sp"[m
[32m+[m[32m            android:layout_width="wrap_content"[m
[32m+[m[32m            android:layout_height="wrap_content"/>[m
[32m+[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:id="@+id/wind_spd_text"[m
[32m+[m[32m            android:textColor="#fff"[m
[32m+[m[32m            android:layout_margin="6dp"[m
[32m+[m[32m            android:textSize="12sp"[m
[32m+[m[32m            android:layout_width="wrap_content"[m
[32m+[m[32m            android:layout_height="wrap_content"/>[m
[32m+[m
[32m+[m[32m    </LinearLayout>[m
[32m+[m
[32m+[m[32m    <LinearLayout[m
[32m+[m[32m        android:layout_width="0dp"[m
[32m+[m[32m        android:layout_height="150dp"[m
[32m+[m[32m        android:layout_gravity="center"[m
[32m+[m[32m        android:layout_weight="1"[m
[32m+[m[32m        android:orientation="vertical">[m
[32m+[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:id="@+id/weather_info_text"[m
[32m+[m[32m            android:layout_width="wrap_content"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_gravity="end"[m
[32m+[m[32m            android:textColor="#fff"[m
[32m+[m[32m            android:textSize="20sp"/>[m
[32m+[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:id="@+id/degree_text"[m
[32m+[m[32m            android:layout_width="wrap_content"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_gravity="end|center"[m
[32m+[m[32m            android:textColor="#fff"[m
[32m+[m[32m            android:textSize="60sp"/>[m
[32m+[m
[32m+[m[32m        <LinearLayout[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="match_parent">[m
[32m+[m
[32m+[m[32m            <LinearLayout[m
[32m+[m[32m                android:layout_width="0dp"[m
[32m+[m[32m                android:layout_height="match_parent"[m
[32m+[m[32m                android:layout_weight="1"[m
[32m+[m[32m                android:orientation="vertical">[m
[32m+[m[32m                <ImageView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:src="@drawable/icon_press"[m
[32m+[m[32m                    android:layout_gravity="end"[m
[32m+[m[32m                    android:layout_marginRight="15dp"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:id="@+id/press_text"[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="right"[m
[32m+[m[32m                    android:layout_marginRight="7dp"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:text="1008hpa"[m
[32m+[m[32m                    android:textColor="#fff"[m
[32m+[m[32m                    android:textSize="10sp"/>[m
[32m+[m
[32m+[m[32m            </LinearLayout>[m
[32m+[m
[32m+[m[32m            <LinearLayout[m
[32m+[m[32m                android:layout_width="0dp"[m
[32m+[m[32m                android:layout_height="match_parent"[m
[32m+[m[32m                android:layout_weight="1"[m
[32m+[m[32m                android:orientation="vertical">[m
[32m+[m
[32m+[m[32m                <ImageView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:src="@drawable/icon_humidity"[m
[32m+[m[32m                    android:layout_gravity="end"[m
[32m+[m[32m                    android:layout_marginRight="10dp"/>[m
[32m+[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:id="@+id/humidity_text"[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="right"[m
[32m+[m[32m                    android:layout_marginRight="15dp"[m
[32m+[m[32m                    android:gravity="center"[m
[32m+[m[32m                    android:text="75"[m
[32m+[m[32m                    android:textColor="#fff"[m
[32m+[m[32m                    android:textSize="10sp"/>[m
[32m+[m
[32m+[m[32m            </LinearLayout>[m
[32m+[m
[32m+[m[32m        </LinearLayout>[m
[32m+[m
[32m+[m[32m    </LinearLayout>[m
[32m+[m
[32m+[m[32m</LinearLayout>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/layout/suggestion.xml b/app/src/main/res/layout/suggestion.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..cde4bc0[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/suggestion.xml[m
[36m@@ -0,0 +1,40 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<LinearLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:orientation="vertical"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="wrap_content"[m
[32m+[m[32m    android:layout_margin="15dp"[m
[32m+[m[32m    android:background="#8000">[m
[32m+[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_marginLeft="15dp"[m
[32m+[m[32m        android:layout_marginTop="15dp"[m
[32m+[m[32m        android:text="生活建议"[m
[32m+[m[32m        android:textColor="#fff"[m
[32m+[m[32m        android:textSize="20sp"/>[m
[32m+[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/comfort_text"[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_margin="15dp"[m
[32m+[m[32m        android:textColor="#fff" />[m
[32m+[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/car_wash_text"[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_margin="15dp"[m
[32m+[m[32m        android:textColor="#fff" />[m
[32m+[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/sport_text"[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_margin="15dp"[m
[32m+[m[32m        android:textColor="#fff" />[m
[32m+[m
[32m+[m[32m</LinearLayout>[m
[1mdiff --git a/app/src/main/res/layout/sun_moon_animation.xml b/app/src/main/res/layout/sun_moon_animation.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..374f8ab[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/sun_moon_animation.xml[m
[36m@@ -0,0 +1,76 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<LinearLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="wrap_content">[m
[32m+[m
[32m+[m[32m    <LinearLayout[m
[32m+[m[32m        android:id="@+id/append_now_layout"[m
[32m+[m[32m        android:layout_width="0dp"[m
[32m+[m[32m        android:layout_height="130dp"[m
[32m+[m[32m        android:layout_weight="1"[m
[32m+[m[32m        android:orientation="vertical">[m
[32m+[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:id="@+id/feel_tmp_text"[m
[32m+[m[32m            android:layout_width="wrap_content"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_margin="15dp"[m
[32m+[m[32m            android:textColor="#fff"[m
[32m+[m[32m            android:textSize="12sp"/>[m
[32m+[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:id="@+id/pop_text"[m
[32m+[m[32m            android:layout_width="wrap_content"[m
[32m+[m[32m            android:layout_height="match_parent"[m
[32m+[m[32m            android:gravity="bottom"[m
[32m+[m[32m            android:layout_marginLeft="15dp"[m
[32m+[m[32m            android:layout_marginBottom="35dp"[m
[32m+[m[32m            android:textColor="#fff"[m
[32m+[m[32m            android:textSize="12sp"/>[m
[32m+[m
[32m+[m
[32m+[m[32m    </LinearLayout>[m
[32m+[m
[32m+[m[32m    <LinearLayout[m
[32m+[m[32m        android:layout_width="0dp"[m
[32m+[m[32m        android:layout_height="100dp"[m
[32m+[m[32m        android:layout_weight="1"[m
[32m+[m[32m        android:orientation="vertical">[m
[32m+[m
[32m+[m[32m        <com.coolweather.android.sunriseView.SunriseView[m
[32m+[m[32m            android:id="@+id/sun"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="80dp"[m
[32m+[m[32m            android:layout_gravity="center"[m
[32m+[m[32m            />[m
[32m+[m
[32m+[m[32m        <FrameLayout[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="20dp">[m
[32m+[m
[32m+[m[32m            <TextView[m
[32m+[m[32m                android:id="@+id/sunrise_text"[m
[32m+[m[32m                android:layout_width="wrap_content"[m
[32m+[m[32m                android:layout_height="wrap_content"[m
[32m+[m[32m                android:text="日出 06:10"[m
[32m+[m[32m                android:textColor="#fff"[m
[32m+[m[32m                android:textSize="10sp"/>[m
[32m+[m
[32m+[m[32m            <TextView[m
[32m+[m[32m                android:id="@+id/sunset_text"[m
[32m+[m[32m                android:layout_width="wrap_content"[m
[32m+[m[32m                android:layout_height="wrap_content"[m
[32m+[m[32m                android:layout_gravity="end"[m
[32m+[m[32m                android:layout_marginEnd="15dp"[m
[32m+[m[32m                android:text="日落 19:50"[m
[32m+[m[32m                android:textColor="#fff"[m
[32m+[m[32m                android:textSize="10sp"/>[m
[32m+[m[32m        </FrameLayout>[m
[32m+[m
[32m+[m
[32m+[m[32m    </LinearLayout>[m
[32m+[m
[32m+[m
[32m+[m[32m</LinearLayout>[m
[32m+[m
[1mdiff --git a/app/src/main/res/layout/title.xml b/app/src/main/res/layout/title.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..ec010d0[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/title.xml[m
[36m@@ -0,0 +1,34 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<RelativeLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="?attr/actionBarSize">[m
[32m+[m
[32m+[m[32m    <Button[m
[32m+[m[32m        android:id="@+id/nav_button"[m
[32m+[m[32m        android:layout_width="30dp"[m
[32m+[m[32m        android:layout_height="30dp"[m
[32m+[m[32m        android:layout_marginLeft="10dp"[m
[32m+[m[32m        android:layout_alignParentLeft="true"[m
[32m+[m[32m        android:layout_centerVertical="true"[m
[32m+[m[32m        android:background="@drawable/icon_switch" />[m
[32m+[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/title_city"[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_centerInParent="true"[m
[32m+[m[32m        android:textColor="#fff"[m
[32m+[m[32m        android:textSize="20sp" />[m
[32m+[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/title_update_time"[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_marginRight="10dp"[m
[32m+[m[32m        android:layout_alignParentRight="true"[m
[32m+[m[32m        android:layout_centerVertical="true"[m
[32m+[m[32m        android:textColor="#fff"[m
[32m+[m[32m        android:textSize="16sp"/>[m
[32m+[m
[32m+[m[32m</RelativeLayout>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/mipmap-hdpi/ic_launcher.png b/app/src/main/res/mipmap-hdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..cde69bc[m
Binary files /dev/null and b/app/src/main/res/mipmap-hdpi/ic_launcher.png differ
[1mdiff --git a/app/src/main/res/mipmap-hdpi/icon_logo.png b/app/src/main/res/mipmap-hdpi/icon_logo.png[m
[1mnew file mode 100644[m
[1mindex 0000000..c9a39c9[m
Binary files /dev/null and b/app/src/main/res/mipmap-hdpi/icon_logo.png differ
[1mdiff --git a/app/src/main/res/mipmap-mdpi/ic_launcher.png b/app/src/main/res/mipmap-mdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..c133a0c[m
Binary files /dev/null and b/app/src/main/res/mipmap-mdpi/ic_launcher.png differ
[1mdiff --git a/app/src/main/res/mipmap-mdpi/icon_logo.png b/app/src/main/res/mipmap-mdpi/icon_logo.png[m
[1mnew file mode 100644[m
[1mindex 0000000..c9a39c9[m
Binary files /dev/null and b/app/src/main/res/mipmap-mdpi/icon_logo.png differ
[1mdiff --git a/app/src/main/res/mipmap-xhdpi/ic_launcher.png b/app/src/main/res/mipmap-xhdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..bfa42f0[m
Binary files /dev/null and b/app/src/main/res/mipmap-xhdpi/ic_launcher.png differ
[1mdiff --git a/app/src/main/res/mipmap-xhdpi/icon_logo.png b/app/src/main/res/mipmap-xhdpi/icon_logo.png[m
[1mnew file mode 100644[m
[1mindex 0000000..c9a39c9[m
Binary files /dev/null and b/app/src/main/res/mipmap-xhdpi/icon_logo.png differ
[1mdiff --git a/app/src/main/res/mipmap-xxhdpi/ic_launcher.png b/app/src/main/res/mipmap-xxhdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..324e72c[m
Binary files /dev/null and b/app/src/main/res/mipmap-xxhdpi/ic_launcher.png differ
[1mdiff --git a/app/src/main/res/mipmap-xxhdpi/icon_logo.png b/app/src/main/res/mipmap-xxhdpi/icon_logo.png[m
[1mnew file mode 100644[m
[1mindex 0000000..c9a39c9[m
Binary files /dev/null and b/app/src/main/res/mipmap-xxhdpi/icon_logo.png differ
[1mdiff --git a/app/src/main/res/mipmap-xxxhdpi/ic_launcher.png b/app/src/main/res/mipmap-xxxhdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..aee44e1[m
Binary files /dev/null and b/app/src/main/res/mipmap-xxxhdpi/ic_launcher.png differ
[1mdiff --git a/app/src/main/res/mipmap-xxxhdpi/icon_logo.png b/app/src/main/res/mipmap-xxxhdpi/icon_logo.png[m
[1mnew file mode 100644[m
[1mindex 0000000..c9a39c9[m
Binary files /dev/null and b/app/src/main/res/mipmap-xxxhdpi/icon_logo.png differ
[1mdiff --git a/app/src/main/res/values-w820dp/dimens.xml b/app/src/main/res/values-w820dp/dimens.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..63fc816[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/values-w820dp/dimens.xml[m
[36m@@ -0,0 +1,6 @@[m
[32m+[m[32m<resources>[m
[32m+[m[32m    <!-- Example customization of dimensions originally defined in res/values/dimens.xml[m
[32m+[m[32m         (such as screen margins) for screens with more than 820dp of available width. This[m
[32m+[m[32m         would include 7" and 10" devices in landscape (~960dp and ~1280dp respectively). -->[m
[32m+[m[32m    <dimen name="activity_horizontal_margin">64dp</dimen>[m
[32m+[m[32m</resources>[m
[1mdiff --git a/app/src/main/res/values/attrs.xml b/app/src/main/res/values/attrs.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..4c97bc1[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/values/attrs.xml[m
[36m@@ -0,0 +1,9 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<resources>[m
[32m+[m[32m    <declare-styleable name="SunAnimationView">[m
[32m+[m[32m        <attr name="sun_circle_color" format="color"></attr>[m
[32m+[m[32m        <attr name="sun_font_color" format="color"></attr>[m
[32m+[m[32m        <attr name="sun_font_size" format="dimension"></attr>[m
[32m+[m[32m        <attr name="sun_circle_radius" format="integer"></attr>[m
[32m+[m[32m    </declare-styleable>[m
[32m+[m[32m</resources>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/values/colors.xml b/app/src/main/res/values/colors.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..ce288aa[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/values/colors.xml[m
[36m@@ -0,0 +1,8 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<resources>[m
[32m+[m[32m    <color name="colorPrimary">#FF4081</color>[m
[32m+[m[32m    <color name="colorPrimaryDark">#FF4081</color>[m
[32m+[m[32m    <color name="colorAccent">#FF4081</color>[m
[32m+[m[32m    <color name="text_black_two">#fff</color>[m
[32m+[m[32m    <color name="text_black_three">#fff</color>[m
[32m+[m[32m</resources>[m
[1mdiff --git a/app/src/main/res/values/dimens.xml b/app/src/main/res/values/dimens.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..47c8224[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/values/dimens.xml[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32m<resources>[m
[32m+[m[32m    <!-- Default screen margins, per the Android Design guidelines. -->[m
[32m+[m[32m    <dimen name="activity_horizontal_margin">16dp</dimen>[m
[32m+[m[32m    <dimen name="activity_vertical_margin">16dp</dimen>[m
[32m+[m[32m</resources>[m
[1mdiff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..064104f[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/values/strings.xml[m
[36m@@ -0,0 +1,4 @@[m
[32m+[m[32m<resources>[m
[32m+[m[32m    <string name="app_name">Four天气</string>[m
[32m+[m[32m</resources>[m
[32m+[m
[1mdiff --git a/app/src/main/res/values/styles.xml b/app/src/main/res/values/styles.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..0eb88fe[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/values/styles.xml[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32m<resources>[m
[32m+[m
[32m+[m[32m    <!-- Base application theme. -->[m
[32m+[m[32m    <style name="AppTheme" parent="Theme.AppCompat.Light.NoActionBar">[m
[32m+[m[32m        <!-- Customize your theme here. -->[m
[32m+[m[32m        <item name="colorPrimary">@color/colorPrimary</item>[m
[32m+[m[32m        <item name="colorPrimaryDark">@color/colorPrimaryDark</item>[m
[32m+[m[32m        <item name="colorAccent">@color/colorAccent</item>[m
[32m+[m[32m    </style>[m
[32m+[m
[32m+[m[32m</resources>[m
[1mdiff --git a/app/src/test/java/com/coolweather/android/ExampleUnitTest.java b/app/src/test/java/com/coolweather/android/ExampleUnitTest.java[m
[1mnew file mode 100644[m
[1mindex 0000000..532b182[m
[1m--- /dev/null[m
[1m+++ b/app/src/test/java/com/coolweather/android/ExampleUnitTest.java[m
[36m@@ -0,0 +1,15 @@[m
[32m+[m[32mpackage com.coolweather.android;[m
[32m+[m
[32m+[m[32mimport org.junit.Test;[m
[32m+[m
[32m+[m[32mimport static org.junit.Assert.*;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * To work on unit tests, switch the Test Artifact in the Build Variants view.[m
[32m+[m[32m */[m
[32m+[m[32mpublic class ExampleUnitTest {[m
[32m+[m[32m    @Test[m
[32m+[m[32m    public void addition_isCorrect() throws Exception {[m
[32m+[m[32m        assertEquals(4, 2 + 2);[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/build.gradle b/build.gradle[m
[1mnew file mode 100644[m
[1mindex 0000000..e6b32bc[m
[1m--- /dev/null[m
[1m+++ b/build.gradle[m
[36m@@ -0,0 +1,27 @@[m
[32m+[m[32m// Top-level build file where you can add configuration options common to all sub-projects/modules.[m
[32m+[m
[32m+[m[32mbuildscript {[m
[32m+[m[41m    [m
[32m+[m[32m    repositories {[m
[32m+[m[32m        google()[m
[32m+[m[32m        jcenter()[m
[32m+[m[32m    }[m
[32m+[m[32m    dependencies {[m
[32m+[m[32m        classpath 'com.android.tools.build:gradle:3.0.1'[m
[32m+[m[41m        [m
[32m+[m
[32m+[m[32m        // NOTE: Do not place your application dependencies here; they belong[m
[32m+[m[32m        // in the individual module build.gradle files[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mallprojects {[m
[32m+[m[32m    repositories {[m
[32m+[m[32m        google()[m
[32m+[m[32m        jcenter()[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mtask clean(type: Delete) {[m
[32m+[m[32m    delete rootProject.buildDir[m
[32m+[m[32m}[m
[1mdiff --git a/gradle.properties b/gradle.properties[m
[1mnew file mode 100644[m
[1mindex 0000000..aac7c9b[m
[1m--- /dev/null[m
[1m+++ b/gradle.properties[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32m# Project-wide Gradle settings.[m
[32m+[m
[32m+[m[32m# IDE (e.g. Android Studio) users:[m
[32m+[m[32m# Gradle settings configured through the IDE *will override*[m
[32m+[m[32m# any settings specified in this file.[m
[32m+[m
[32m+[m[32m# For more details on how to configure your build environment visit[m
[32m+[m[32m# http://www.gradle.org/docs/current/userguide/build_environment.html[m
[32m+[m
[32m+[m[32m# Specifies the JVM arguments used for the daemon process.[m
[32m+[m[32m# The setting is particularly useful for tweaking memory settings.[m
[32m+[m[32morg.gradle.jvmargs=-Xmx1536m[m
[32m+[m
[32m+[m[32m# When configured, Gradle will run in incubating parallel mode.[m
[32m+[m[32m# This option should only be used with decoupled projects. More details, visit[m
[32m+[m[32m# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects[m
[32m+[m[32m# org.gradle.parallel=true[m
[1mdiff --git a/gradle/wrapper/gradle-wrapper.jar b/gradle/wrapper/gradle-wrapper.jar[m
[1mnew file mode 100644[m
[1mindex 0000000..13372ae[m
Binary files /dev/null and b/gradle/wrapper/gradle-wrapper.jar differ
[1mdiff --git a/gradle/wrapper/gradle-wrapper.properties b/gradle/wrapper/gradle-wrapper.properties[m
[1mnew file mode 100644[m
[1mindex 0000000..2737b9f[m
[1m--- /dev/null[m
[1m+++ b/gradle/wrapper/gradle-wrapper.properties[m
[36m@@ -0,0 +1,6 @@[m
[32m+[m[32m#Wed Feb 21 10:44:52 CST 2018[m
[32m+[m[32mdistributionBase=GRADLE_USER_HOME[m
[32m+[m[32mdistributionPath=wrapper/dists[m
[32m+[m[32mzipStoreBase=GRADLE_USER_HOME[m
[32m+[m[32mzipStorePath=wrapper/dists[m
[32m+[m[32mdistributionUrl=https\://services.gradle.org/distributions/gradle-4.1-all.zip[m
[1mdiff --git a/gradlew b/gradlew[m
[1mnew file mode 100644[m
[1mindex 0000000..9d82f78[m
[1m--- /dev/null[m
[1m+++ b/gradlew[m
[36m@@ -0,0 +1,160 @@[m
[32m+[m[32m#!/usr/bin/env bash[m
[32m+[m
[32m+[m[32m##############################################################################[m
[32m+[m[32m##[m
[32m+[m[32m##  Gradle start up script for UN*X[m
[32m+[m[32m##[m
[32m+[m[32m##############################################################################[m
[32m+[m
[32m+[m[32m# Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.[m
[32m+[m[32mDEFAULT_JVM_OPTS=""[m
[32m+[m
[32m+[m[32mAPP_NAME="Gradle"[m
[32m+[m[32mAPP_BASE_NAME=`basename "$0"`[m
[32m+[m
[32m+[m[32m# Use the maximum available, or set MAX_FD != -1 to use that value.[m
[32m+[m[32mMAX_FD="maximum"[m
[32m+[m
[32m+[m[32mwarn ( ) {[m
[32m+[m[32m    echo "$*"[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mdie ( ) {[m
[32m+[m[32m    echo[m
[32m+[m[32m    echo "$*"[m
[32m+[m[32m    echo[m
[32m+[m[32m    exit 1[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m# OS specific support (must be 'true' or 'false').[m
[32m+[m[32mcygwin=false[m
[32m+[m[32mmsys=false[m
[32m+[m[32mdarwin=false[m
[32m+[m[32mcase "`uname`" in[m
[32m+[m[32m  CYGWIN* )[m
[32m+[m[32m    cygwin=true[m
[32m+[m[32m    ;;[m
[32m+[m[32m  Darwin* )[m
[32m+[m[32m    darwin=true[m
[32m+[m[32m    ;;[m
[32m+[m[32m  MINGW* )[m
[32m+[m[32m    msys=true[m
[32m+[m[32m    ;;[m
[32m+[m[32mesac[m
[32m+[m
[32m+[m[32m# Attempt to set APP_HOME[m
[32m+[m[32m# Resolve links: $0 may be a link[m
[32m+[m[32mPRG="$0"[m
[32m+[m[32m# Need this for relative symlinks.[m
[32m+[m[32mwhile [ -h "$PRG" ] ; do[m
[32m+[m[32m    ls=`ls -ld "$PRG"`[m
[32m+[m[32m    link=`expr "$ls" : '.*-> \(.*\)$'`[m
[32m+[m[32m    if expr "$link" : '/.*' > /dev/null; then[m
[32m+[m[32m        PRG="$link"[m
[32m+[m[32m    else[m
[32m+[m[32m        PRG=`dirname "$PRG"`"/$link"[m
[32m+[m[32m    fi[m
[32m+[m[32mdone[m
[32m+[m[32mSAVED="`pwd`"[m
[32m+[m[32mcd "`dirname \"$PRG\"`/" >/dev/null[m
[32m+[m[32mAPP_HOME="`pwd -P`"[m
[32m+[m[32mcd "$SAVED" >/dev/null[m
[32m+[m
[32m+[m[32mCLASSPATH=$APP_HOME/gradle/wrapper/gradle-wrapper.jar[m
[32m+[m
[32m+[m[32m# Determine the Java command to use to start the JVM.[m
[32m+[m[32mif [ -n "$JAVA_HOME" ] ; then[m
[32m+[m[32m    if [ -x "$JAVA_HOME/jre/sh/java" ] ; then[m
[32m+[m[32m        # IBM's JDK on AIX uses strange locations for the executables[m
[32m+[m[32m        JAVACMD="$JAVA_HOME/jre/sh/java"[m
[32m+[m[32m    else[m
[32m+[m[32m        JAVACMD="$JAVA_HOME/bin/java"[m
[32m+[m[32m    fi[m
[32m+[m[32m    if [ ! -x "$JAVACMD" ] ; then[m
[32m+[m[32m        die "ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME[m
[32m+[m
[32m+[m[32mPlease set the JAVA_HOME variable in your environment to match the[m
[32m+[m[32mlocation of your Java installation."[m
[32m+[m[32m    fi[m
[32m+[m[32melse[m
[32m+[m[32m    JAVACMD="java"[m
[32m+[m[32m    which java >/dev/null 2>&1 || die "ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.[m
[32m+[m
[32m+[m[32mPlease set the JAVA_HOME variable in your environment to match the[m
[32m+[m[32mlocation of your Java installation."[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32m# Increase the maximum file descriptors if we can.[m
[32m+[m[32mif [ "$cygwin" = "false" -a "$darwin" = "false" ] ; then[m
[32m+[m[32m    MAX_FD_LIMIT=`ulimit -H -n`[m
[32m+[m[32m    if [ $? -eq 0 ] ; then[m
[32m+[m[32m        if [ "$MAX_FD" = "maximum" -o "$MAX_FD" = "max" ] ; then[m
[32m+[m[32m            MAX_FD="$MAX_FD_LIMIT"[m
[32m+[m[32m        fi[m
[32m+[m[32m        ulimit -n $MAX_FD[m
[32m+[m[32m        if [ $? -ne 0 ] ; then[m
[32m+[m[32m            warn "Could not set maximum file descriptor limit: $MAX_FD"[m
[32m+[m[32m        fi[m
[32m+[m[32m    else[m
[32m+[m[32m        warn "Could not query maximum file descriptor limit: $MAX_FD_LIMIT"[m
[32m+[m[32m    fi[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32m# For Darwin, add options to specify how the application appears in the dock[m
[32m+[m[32mif $darwin; then[m
[32m+[m[32m    GRADLE_OPTS="$GRADLE_OPTS \"-Xdock:name=$APP_NAME\" \"-Xdock:icon=$APP_HOME/media/gradle.icns\""[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32m# For Cygwin, switch paths to Windows format before running java[m
[32m+[m[32mif $cygwin ; then[m
[32m+[m[32m    APP_HOME=`cygpath --path --mixed "$APP_HOME"`[m
[32m+[m[32m    CLASSPATH=`cygpath --path --mixed "$CLASSPATH"`[m
[32m+[m[32m    JAVACMD=`cygpath --unix "$JAVACMD"`[m
[32m+[m
[32m+[m[32m    # We build the pattern for arguments to be converted via cygpath[m
[32m+[m[32m    ROOTDIRSRAW=`find -L / -maxdepth 1 -mindepth 1 -type d 2>/dev/null`[m
[32m+[m[32m    SEP=""[m
[32m+[m[32m    for dir in $ROOTDIRSRAW ; do[m
[32m+[m[32m        ROOTDIRS="$ROOTDIRS$SEP$dir"[m
[32m+[m[32m        SEP="|"[m
[32m+[m[32m    done[m
[32m+[m[32m    OURCYGPATTERN="(^($ROOTDIRS))"[m
[32m+[m[32m    # Add a user-defined pattern to the cygpath arguments[m
[32m+[m[32m    if [ "$GRADLE_CYGPATTERN" != "" ] ; then[m
[32m+[m[32m        OURCYGPATTERN="$OURCYGPATTERN|($GRADLE_CYGPATTERN)"[m
[32m+[m[32m    fi[m
[32m+[m[32m    # Now convert the arguments - kludge to limit ourselves to /bin/sh[m
[32m+[m[32m    i=0[m
[32m+[m[32m    for arg in "$@" ; do[m
[32m+[m[32m        CHECK=`echo "$arg"|egrep -c "$OURCYGPATTERN" -`[m
[32m+[m[32m        CHECK2=`echo "$arg"|egrep -c "^-"`                                 ### Determine if an option[m
[32m+[m
[32m+[m[32m        if [ $CHECK -ne 0 ] && [ $CHECK2 -eq 0 ] ; then                    ### Added a condition[m
[32m+[m[32m            eval `echo args$i`=`cygpath --path --ignore --mixed "$arg"`[m
[32m+[m[32m        else[m
[32m+[m[32m            eval `echo args$i`="\"$arg\""[m
[32m+[m[32m        fi[m
[32m+[m[32m        i=$((i+1))[m
[32m+[m[32m    done[m
[32m+[m[32m    case $i in[m
[32m+[m[32m        (0) set -- ;;[m
[32m+[m[32m        (1) set -- "$args0" ;;[m
[32m+[m[32m        (2) set -- "$args0" "$args1" ;;[m
[32m+[m[32m        (3) set -- "$args0" "$args1" "$args2" ;;[m
[32m+[m[32m        (4) set -- "$args0" "$args1" "$args2" "$args3" ;;[m
[32m+[m[32m        (5) set -- "$args0" "$args1" "$args2" "$args3" "$args4" ;;[m
[32m+[m[32m        (6) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" ;;[m
[32m+[m[32m        (7) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" ;;[m
[32m+[m[32m        (8) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" "$args7" ;;[m
[32m+[m[32m        (9) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" "$args7" "$args8" ;;[m
[32m+[m[32m    esac[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32m# Split up the JVM_OPTS And GRADLE_OPTS values into an array, following the shell quoting and substitution rules[m
[32m+[m[32mfunction splitJvmOpts() {[m
[32m+[m[32m    JVM_OPTS=("$@")[m
[32m+[m[32m}[m
[32m+[m[32meval splitJvmOpts $DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLE_OPTS[m
[32m+[m[32mJVM_OPTS[${#JVM_OPTS[*]}]="-Dorg.gradle.appname=$APP_BASE_NAME"[m
[32m+[m
[32m+[m[32mexec "$JAVACMD" "${JVM_OPTS[@]}" -classpath "$CLASSPATH" org.gradle.wrapper.GradleWrapperMain "$@"[m
[1mdiff --git a/gradlew.bat b/gradlew.bat[m
[1mnew file mode 100644[m
[1mindex 0000000..8a0b282[m
[1m--- /dev/null[m
[1m+++ b/gradlew.bat[m
[36m@@ -0,0 +1,90 @@[m
[32m+[m[32m@if "%DEBUG%" == "" @echo off[m
[32m+[m[32m@rem ##########################################################################[m
[32m+[m[32m@rem[m
[32m+[m[32m@rem  Gradle startup script for Windows[m
[32m+[m[32m@rem[m
[32m+[m[32m@rem ##########################################################################[m
[32m+[m
[32m+[m[32m@rem Set local scope for the variables with windows NT shell[m
[32m+[m[32mif "%OS%"=="Windows_NT" setlocal[m
[32m+[m
[32m+[m[32m@rem Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.[m
[32m+[m[32mset DEFAULT_JVM_OPTS=[m
[32m+[m
[32m+[m[32mset DIRNAME=%~dp0[m
[32m+[m[32mif "%DIRNAME%" == "" set DIRNAME=.[m
[32m+[m[32mset APP_BASE_NAME=%~n0[m
[32m+[m[32mset APP_HOME=%DIRNAME%[m
[32m+[m
[32m+[m[32m@rem Find java.exe[m
[32m+[m[32mif defined JAVA_HOME goto findJavaFromJavaHome[m
[32m+[m
[32m+[m[32mset JAVA_EXE=java.exe[m
[32m+[m[32m%JAVA_EXE% -version >NUL 2>&1[m
[32m+[m[32mif "%ERRORLEVEL%" == "0" goto init[m
[32m+[m
[32m+[m[32mecho.[m
[32m+[m[32mecho ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.[m
[32m+[m[32mecho.[m
[32m+[m[32mecho Please set the JAVA_HOME variable in your environment to match the[m
[32m+[m[32mecho location of your Java installation.[m
[32m+[m
[32m+[m[32mgoto fail[m
[32m+[m
[32m+[m[32m:findJavaFromJavaHome[m
[32m+[m[32mset JAVA_HOME=%JAVA_HOME:"=%[m
[32m+[m[32mset JAVA_EXE=%JAVA_HOME%/bin/java.exe[m
[32m+[m
[32m+[m[32mif exist "%JAVA_EXE%" goto init[m
[32m+[m
[32m+[m[32mecho.[m
[32m+[m[32mecho ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%[m
[32m+[m[32mecho.[m
[32m+[m[32mecho Please set the JAVA_HOME variable in your environment to match the[m
[32m+[m[32mecho location of your Java installation.[m
[32m+[m
[32m+[m[32mgoto fail[m
[32m+[m
[32m+[m[32m:init[m
[32m+[m[32m@rem Get command-line arguments, handling Windowz variants[m
[32m+[m
[32m+[m[32mif not "%OS%" == "Windows_NT" goto win9xME_args[m
[32m+[m[32mif "%@eval[2+2]" == "4" goto 4NT_args[m
[32m+[m
[32m+[m[32m:win9xME_args[m
[32m+[m[32m@rem Slurp the command line arguments.[m
[32m+[m[32mset CMD_LINE_ARGS=[m
[32m+[m[32mset _SKIP=2[m
[32m+[m
[32m+[m[32m:win9xME_args_slurp[m
[32m+[m[32mif "x%~1" == "x" goto execute[m
[32m+[m
[32m+[m[32mset CMD_LINE_ARGS=%*[m
[32m+[m[32mgoto execute[m
[32m+[m
[32m+[m[32m:4NT_args[m
[32m+[m[32m@rem Get arguments from the 4NT Shell from JP Software[m
[32m+[m[32mset CMD_LINE_ARGS=%$[m
[32m+[m
[32m+[m[32m:execute[m
[32m+[m[32m@rem Setup the command line[m
[32m+[m
[32m+[m[32mset CLASSPATH=%APP_HOME%\gradle\wrapper\gradle-wrapper.jar[m
[32m+[m
[32m+[m[32m@rem Execute Gradle[m
[32m+[m[32m"%JAVA_EXE%" %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% "-Dorg.gradle.appname=%APP_BASE_NAME%" -classpath "%CLASSPATH%" org.gradle.wrapper.GradleWrapperMain %CMD_LINE_ARGS%[m
[32m+[m
[32m+[m[32m:end[m
[32m+[m[32m@rem End local scope for the variables with windows NT shell[m
[32m+[m[32mif "%ERRORLEVEL%"=="0" goto mainEnd[m
[32m+[m
[32m+[m[32m:fail[m
[32m+[m[32mrem Set variable GRADLE_EXIT_CONSOLE if you need the _script_ return code instead of[m
[32m+[m[32mrem the _cmd.exe /c_ return code![m
[32m+[m[32mif  not "" == "%GRADLE_EXIT_CONSOLE%" exit 1[m
[32m+[m[32mexit /b 1[m
[32m+[m
[32m+[m[32m:mainEnd[m
[32m+[m[32mif "%OS%"=="Windows_NT" endlocal[m
[32m+[m
[32m+[m[32m:omega[m
[1mdiff --git a/settings.gradle b/settings.gradle[m
[1mnew file mode 100644[m
[1mindex 0000000..e7b4def[m
[1m--- /dev/null[m
[1m+++ b/settings.gradle[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32minclude ':app'[m
